ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"queternion.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/queternion.c"
  20              		.section	.data.q,"aw"
  21              		.align	2
  24              	q:
  25 0000 0000803F 		.word	1065353216
  26 0004 00000000 		.word	0
  27 0008 00000000 		.word	0
  28 000c 00000000 		.word	0
  29              		.global	twoKp
  30              		.section	.data.twoKp,"aw"
  31              		.align	2
  34              	twoKp:
  35 0000 00008040 		.word	1082130432
  36              		.global	twoKi
  37              		.section	.data.twoKi,"aw"
  38              		.align	2
  41              	twoKi:
  42 0000 0AD7A33C 		.word	1017370378
  43              		.global	integralFBx
  44              		.section	.bss.integralFBx,"aw",%nobits
  45              		.align	2
  48              	integralFBx:
  49 0000 00000000 		.space	4
  50              		.global	integralFBy
  51              		.section	.bss.integralFBy,"aw",%nobits
  52              		.align	2
  55              	integralFBy:
  56 0000 00000000 		.space	4
  57              		.global	integralFBz
  58              		.section	.bss.integralFBz,"aw",%nobits
  59              		.align	2
  62              	integralFBz:
  63 0000 00000000 		.space	4
  64              		.global	Gain
  65              		.section	.bss.Gain,"aw",%nobits
  68              	Gain:
  69 0000 00       		.space	1
  70              		.global	gyroOnlyMode
  71              		.section	.bss.gyroOnlyMode,"aw",%nobits
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 2


  74              	gyroOnlyMode:
  75 0000 00       		.space	1
  76              		.section	.text.UpdateMahonyGains,"ax",%progbits
  77              		.align	1
  78              		.global	UpdateMahonyGains
  79              		.syntax unified
  80              		.thumb
  81              		.thumb_func
  83              	UpdateMahonyGains:
  84              	.LFB242:
   1:Core/Src/queternion.c **** #include "queternion.h"
   2:Core/Src/queternion.c **** #include <math.h>
   3:Core/Src/queternion.c **** #include "stdbool.h"
   4:Core/Src/queternion.c **** 
   5:Core/Src/queternion.c **** extern bmi088_struct_t BMI_sensor;
   6:Core/Src/queternion.c **** static float q[4] = {1.0f, 0.0f, 0.0f, 0.0f};  // [w, x, y, z]
   7:Core/Src/queternion.c **** 
   8:Core/Src/queternion.c **** 
   9:Core/Src/queternion.c **** 
  10:Core/Src/queternion.c **** 
  11:Core/Src/queternion.c **** //*************************************************************************************************
  12:Core/Src/queternion.c **** //               MAHONY
  13:Core/Src/queternion.c **** //*************************************************************************************************
  14:Core/Src/queternion.c **** #define twoKpDef	(2.0f * 2.0f)	// hızlı düzeltme, sensör ivmelerine karşı daha dirençli
  15:Core/Src/queternion.c **** #define twoKiDef	(2.0f * 0.01f)	// gyro bias'ına karşı yavaş ama kararlı düzeltme
  16:Core/Src/queternion.c **** volatile float twoKp = twoKpDef;											// 2 * proportional gain (Kp)
  17:Core/Src/queternion.c **** volatile float twoKi = twoKiDef;											// 2 * integral gain (Ki)
  18:Core/Src/queternion.c **** volatile float integralFBx = 0.0f,  integralFBy = 0.0f, integralFBz = 0.0f;	// integral error terms
  19:Core/Src/queternion.c **** //*************************************************************************************************
  20:Core/Src/queternion.c **** 
  21:Core/Src/queternion.c **** #define G 9.80665f
  22:Core/Src/queternion.c **** #define ACC_THRESHOLD_HIGH (3.3f * G)
  23:Core/Src/queternion.c **** #define ACC_THRESHOLD_LOW  (2.7f * G)
  24:Core/Src/queternion.c **** 
  25:Core/Src/queternion.c **** #define TWO_KP_MAX 4.0f
  26:Core/Src/queternion.c **** #define TWO_KP_MIN 0.1f
  27:Core/Src/queternion.c **** #define TWO_KI_MAX 0.05f
  28:Core/Src/queternion.c **** #define TWO_KI_MIN 0.0f
  29:Core/Src/queternion.c **** #define ACC_NOMINAL 9.81f
  30:Core/Src/queternion.c **** #define ACC_TOLERANCE 0.5f
  31:Core/Src/queternion.c **** 
  32:Core/Src/queternion.c **** 
  33:Core/Src/queternion.c **** uint8_t Gain = 0;
  34:Core/Src/queternion.c **** uint8_t gyroOnlyMode = 0;
  35:Core/Src/queternion.c **** 
  36:Core/Src/queternion.c **** 
  37:Core/Src/queternion.c **** void UpdateMahonyGains(float ax, float ay, float az) {
  85              		.loc 1 37 54
  86              		.cfi_startproc
  87              		@ args = 0, pretend = 0, frame = 48
  88              		@ frame_needed = 1, uses_anonymous_args = 0
  89 0000 80B5     		push	{r7, lr}
  90              		.cfi_def_cfa_offset 8
  91              		.cfi_offset 7, -8
  92              		.cfi_offset 14, -4
  93 0002 8CB0     		sub	sp, sp, #48
  94              		.cfi_def_cfa_offset 56
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 3


  95 0004 00AF     		add	r7, sp, #0
  96              		.cfi_def_cfa_register 7
  97 0006 87ED030A 		vstr.32	s0, [r7, #12]
  98 000a C7ED020A 		vstr.32	s1, [r7, #8]
  99 000e 87ED011A 		vstr.32	s2, [r7, #4]
  38:Core/Src/queternion.c ****     // Quaternion normalize edilmemişse gravity yön tahmini hatalı olur
  39:Core/Src/queternion.c ****     float norm_q = sqrtf(q[0]*q[0] + q[1]*q[1] + q[2]*q[2] + q[3]*q[3]);
 100              		.loc 1 39 27
 101 0012 D54B     		ldr	r3, .L20
 102 0014 93ED007A 		vldr.32	s14, [r3]
 103              		.loc 1 39 32
 104 0018 D34B     		ldr	r3, .L20
 105 001a D3ED007A 		vldr.32	s15, [r3]
 106              		.loc 1 39 30
 107 001e 27EE277A 		vmul.f32	s14, s14, s15
 108              		.loc 1 39 39
 109 0022 D14B     		ldr	r3, .L20
 110 0024 D3ED016A 		vldr.32	s13, [r3, #4]
 111              		.loc 1 39 44
 112 0028 CF4B     		ldr	r3, .L20
 113 002a D3ED017A 		vldr.32	s15, [r3, #4]
 114              		.loc 1 39 42
 115 002e 66EEA77A 		vmul.f32	s15, s13, s15
 116              		.loc 1 39 36
 117 0032 37EE277A 		vadd.f32	s14, s14, s15
 118              		.loc 1 39 51
 119 0036 CC4B     		ldr	r3, .L20
 120 0038 D3ED026A 		vldr.32	s13, [r3, #8]
 121              		.loc 1 39 56
 122 003c CA4B     		ldr	r3, .L20
 123 003e D3ED027A 		vldr.32	s15, [r3, #8]
 124              		.loc 1 39 54
 125 0042 66EEA77A 		vmul.f32	s15, s13, s15
 126              		.loc 1 39 48
 127 0046 37EE277A 		vadd.f32	s14, s14, s15
 128              		.loc 1 39 63
 129 004a C74B     		ldr	r3, .L20
 130 004c D3ED036A 		vldr.32	s13, [r3, #12]
 131              		.loc 1 39 68
 132 0050 C54B     		ldr	r3, .L20
 133 0052 D3ED037A 		vldr.32	s15, [r3, #12]
 134              		.loc 1 39 66
 135 0056 66EEA77A 		vmul.f32	s15, s13, s15
 136              		.loc 1 39 20
 137 005a 77EE277A 		vadd.f32	s15, s14, s15
 138 005e B0EE670A 		vmov.f32	s0, s15
 139 0062 FFF7FEFF 		bl	sqrtf
 140 0066 87ED0A0A 		vstr.32	s0, [r7, #40]
  40:Core/Src/queternion.c ****     if (norm_q == 0.0f) return; // Koruma
 141              		.loc 1 40 8
 142 006a D7ED0A7A 		vldr.32	s15, [r7, #40]
 143 006e F5EE407A 		vcmp.f32	s15, #0
 144 0072 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 145 0076 00F07281 		beq	.L19
  41:Core/Src/queternion.c ****     q[0] /= norm_q;
 146              		.loc 1 41 6
 147 007a BB4B     		ldr	r3, .L20
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 4


 148 007c D3ED006A 		vldr.32	s13, [r3]
 149              		.loc 1 41 10
 150 0080 97ED0A7A 		vldr.32	s14, [r7, #40]
 151 0084 C6EE877A 		vdiv.f32	s15, s13, s14
 152 0088 B74B     		ldr	r3, .L20
 153 008a C3ED007A 		vstr.32	s15, [r3]
  42:Core/Src/queternion.c ****     q[1] /= norm_q;
 154              		.loc 1 42 6
 155 008e B64B     		ldr	r3, .L20
 156 0090 D3ED016A 		vldr.32	s13, [r3, #4]
 157              		.loc 1 42 10
 158 0094 97ED0A7A 		vldr.32	s14, [r7, #40]
 159 0098 C6EE877A 		vdiv.f32	s15, s13, s14
 160 009c B24B     		ldr	r3, .L20
 161 009e C3ED017A 		vstr.32	s15, [r3, #4]
  43:Core/Src/queternion.c ****     q[2] /= norm_q;
 162              		.loc 1 43 6
 163 00a2 B14B     		ldr	r3, .L20
 164 00a4 D3ED026A 		vldr.32	s13, [r3, #8]
 165              		.loc 1 43 10
 166 00a8 97ED0A7A 		vldr.32	s14, [r7, #40]
 167 00ac C6EE877A 		vdiv.f32	s15, s13, s14
 168 00b0 AD4B     		ldr	r3, .L20
 169 00b2 C3ED027A 		vstr.32	s15, [r3, #8]
  44:Core/Src/queternion.c ****     q[3] /= norm_q;
 170              		.loc 1 44 6
 171 00b6 AC4B     		ldr	r3, .L20
 172 00b8 D3ED036A 		vldr.32	s13, [r3, #12]
 173              		.loc 1 44 10
 174 00bc 97ED0A7A 		vldr.32	s14, [r7, #40]
 175 00c0 C6EE877A 		vdiv.f32	s15, s13, s14
 176 00c4 A84B     		ldr	r3, .L20
 177 00c6 C3ED037A 		vstr.32	s15, [r3, #12]
  45:Core/Src/queternion.c **** 
  46:Core/Src/queternion.c ****     // Gravity yön vektörü (tam vektör formu)
  47:Core/Src/queternion.c ****     float gx = 2.0f * (q[1] * q[3] - q[0] * q[2]);
 178              		.loc 1 47 25
 179 00ca A74B     		ldr	r3, .L20
 180 00cc 93ED017A 		vldr.32	s14, [r3, #4]
 181              		.loc 1 47 32
 182 00d0 A54B     		ldr	r3, .L20
 183 00d2 D3ED037A 		vldr.32	s15, [r3, #12]
 184              		.loc 1 47 29
 185 00d6 27EE277A 		vmul.f32	s14, s14, s15
 186              		.loc 1 47 39
 187 00da A34B     		ldr	r3, .L20
 188 00dc D3ED006A 		vldr.32	s13, [r3]
 189              		.loc 1 47 46
 190 00e0 A14B     		ldr	r3, .L20
 191 00e2 D3ED027A 		vldr.32	s15, [r3, #8]
 192              		.loc 1 47 43
 193 00e6 66EEA77A 		vmul.f32	s15, s13, s15
 194              		.loc 1 47 36
 195 00ea 77EE677A 		vsub.f32	s15, s14, s15
 196              		.loc 1 47 11
 197 00ee 77EEA77A 		vadd.f32	s15, s15, s15
 198 00f2 C7ED097A 		vstr.32	s15, [r7, #36]
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 5


  48:Core/Src/queternion.c ****     float gy = 2.0f * (q[0] * q[1] + q[2] * q[3]);
 199              		.loc 1 48 25
 200 00f6 9C4B     		ldr	r3, .L20
 201 00f8 93ED007A 		vldr.32	s14, [r3]
 202              		.loc 1 48 32
 203 00fc 9A4B     		ldr	r3, .L20
 204 00fe D3ED017A 		vldr.32	s15, [r3, #4]
 205              		.loc 1 48 29
 206 0102 27EE277A 		vmul.f32	s14, s14, s15
 207              		.loc 1 48 39
 208 0106 984B     		ldr	r3, .L20
 209 0108 D3ED026A 		vldr.32	s13, [r3, #8]
 210              		.loc 1 48 46
 211 010c 964B     		ldr	r3, .L20
 212 010e D3ED037A 		vldr.32	s15, [r3, #12]
 213              		.loc 1 48 43
 214 0112 66EEA77A 		vmul.f32	s15, s13, s15
 215              		.loc 1 48 36
 216 0116 77EE277A 		vadd.f32	s15, s14, s15
 217              		.loc 1 48 11
 218 011a 77EEA77A 		vadd.f32	s15, s15, s15
 219 011e C7ED087A 		vstr.32	s15, [r7, #32]
  49:Core/Src/queternion.c ****     float gz = q[0]*q[0] - q[1]*q[1] - q[2]*q[2] + q[3]*q[3];
 220              		.loc 1 49 17
 221 0122 914B     		ldr	r3, .L20
 222 0124 93ED007A 		vldr.32	s14, [r3]
 223              		.loc 1 49 22
 224 0128 8F4B     		ldr	r3, .L20
 225 012a D3ED007A 		vldr.32	s15, [r3]
 226              		.loc 1 49 20
 227 012e 27EE277A 		vmul.f32	s14, s14, s15
 228              		.loc 1 49 29
 229 0132 8D4B     		ldr	r3, .L20
 230 0134 D3ED016A 		vldr.32	s13, [r3, #4]
 231              		.loc 1 49 34
 232 0138 8B4B     		ldr	r3, .L20
 233 013a D3ED017A 		vldr.32	s15, [r3, #4]
 234              		.loc 1 49 32
 235 013e 66EEA77A 		vmul.f32	s15, s13, s15
 236              		.loc 1 49 26
 237 0142 37EE677A 		vsub.f32	s14, s14, s15
 238              		.loc 1 49 41
 239 0146 884B     		ldr	r3, .L20
 240 0148 D3ED026A 		vldr.32	s13, [r3, #8]
 241              		.loc 1 49 46
 242 014c 864B     		ldr	r3, .L20
 243 014e D3ED027A 		vldr.32	s15, [r3, #8]
 244              		.loc 1 49 44
 245 0152 66EEA77A 		vmul.f32	s15, s13, s15
 246              		.loc 1 49 38
 247 0156 37EE677A 		vsub.f32	s14, s14, s15
 248              		.loc 1 49 53
 249 015a 834B     		ldr	r3, .L20
 250 015c D3ED036A 		vldr.32	s13, [r3, #12]
 251              		.loc 1 49 58
 252 0160 814B     		ldr	r3, .L20
 253 0162 D3ED037A 		vldr.32	s15, [r3, #12]
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 6


 254              		.loc 1 49 56
 255 0166 66EEA77A 		vmul.f32	s15, s13, s15
 256              		.loc 1 49 11
 257 016a 77EE277A 		vadd.f32	s15, s14, s15
 258 016e C7ED077A 		vstr.32	s15, [r7, #28]
  50:Core/Src/queternion.c **** 
  51:Core/Src/queternion.c ****     // Normalize gravity tahmini
  52:Core/Src/queternion.c ****     float recipNormG = invSqrt(gx * gx + gy * gy + gz * gz);
 259              		.loc 1 52 35
 260 0172 D7ED097A 		vldr.32	s15, [r7, #36]
 261 0176 27EEA77A 		vmul.f32	s14, s15, s15
 262              		.loc 1 52 45
 263 017a D7ED087A 		vldr.32	s15, [r7, #32]
 264 017e 67EEA77A 		vmul.f32	s15, s15, s15
 265              		.loc 1 52 40
 266 0182 37EE277A 		vadd.f32	s14, s14, s15
 267              		.loc 1 52 55
 268 0186 D7ED077A 		vldr.32	s15, [r7, #28]
 269 018a 67EEA77A 		vmul.f32	s15, s15, s15
 270              		.loc 1 52 24
 271 018e 77EE277A 		vadd.f32	s15, s14, s15
 272 0192 B0EE670A 		vmov.f32	s0, s15
 273 0196 FFF7FEFF 		bl	invSqrt
 274 019a 87ED060A 		vstr.32	s0, [r7, #24]
  53:Core/Src/queternion.c ****     gx *= recipNormG;
 275              		.loc 1 53 8
 276 019e 97ED097A 		vldr.32	s14, [r7, #36]
 277 01a2 D7ED067A 		vldr.32	s15, [r7, #24]
 278 01a6 67EE277A 		vmul.f32	s15, s14, s15
 279 01aa C7ED097A 		vstr.32	s15, [r7, #36]
  54:Core/Src/queternion.c ****     gy *= recipNormG;
 280              		.loc 1 54 8
 281 01ae 97ED087A 		vldr.32	s14, [r7, #32]
 282 01b2 D7ED067A 		vldr.32	s15, [r7, #24]
 283 01b6 67EE277A 		vmul.f32	s15, s14, s15
 284 01ba C7ED087A 		vstr.32	s15, [r7, #32]
  55:Core/Src/queternion.c ****     gz *= recipNormG;
 285              		.loc 1 55 8
 286 01be 97ED077A 		vldr.32	s14, [r7, #28]
 287 01c2 D7ED067A 		vldr.32	s15, [r7, #24]
 288 01c6 67EE277A 		vmul.f32	s15, s14, s15
 289 01ca C7ED077A 		vstr.32	s15, [r7, #28]
  56:Core/Src/queternion.c **** 
  57:Core/Src/queternion.c ****     // İvmeölçer zaten normalize edilmiş olarak gelmeli (gelmiyorsa normalize et!)
  58:Core/Src/queternion.c ****     float recipNormA = invSqrt(ax * ax + ay * ay + az * az);
 290              		.loc 1 58 35
 291 01ce D7ED037A 		vldr.32	s15, [r7, #12]
 292 01d2 27EEA77A 		vmul.f32	s14, s15, s15
 293              		.loc 1 58 45
 294 01d6 D7ED027A 		vldr.32	s15, [r7, #8]
 295 01da 67EEA77A 		vmul.f32	s15, s15, s15
 296              		.loc 1 58 40
 297 01de 37EE277A 		vadd.f32	s14, s14, s15
 298              		.loc 1 58 55
 299 01e2 D7ED017A 		vldr.32	s15, [r7, #4]
 300 01e6 67EEA77A 		vmul.f32	s15, s15, s15
 301              		.loc 1 58 24
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 7


 302 01ea 77EE277A 		vadd.f32	s15, s14, s15
 303 01ee B0EE670A 		vmov.f32	s0, s15
 304 01f2 FFF7FEFF 		bl	invSqrt
 305 01f6 87ED050A 		vstr.32	s0, [r7, #20]
  59:Core/Src/queternion.c ****     ax *= recipNormA;
 306              		.loc 1 59 8
 307 01fa 97ED037A 		vldr.32	s14, [r7, #12]
 308 01fe D7ED057A 		vldr.32	s15, [r7, #20]
 309 0202 67EE277A 		vmul.f32	s15, s14, s15
 310 0206 C7ED037A 		vstr.32	s15, [r7, #12]
  60:Core/Src/queternion.c ****     ay *= recipNormA;
 311              		.loc 1 60 8
 312 020a 97ED027A 		vldr.32	s14, [r7, #8]
 313 020e D7ED057A 		vldr.32	s15, [r7, #20]
 314 0212 67EE277A 		vmul.f32	s15, s14, s15
 315 0216 C7ED027A 		vstr.32	s15, [r7, #8]
  61:Core/Src/queternion.c ****     az *= recipNormA;
 316              		.loc 1 61 8
 317 021a 97ED017A 		vldr.32	s14, [r7, #4]
 318 021e D7ED057A 		vldr.32	s15, [r7, #20]
 319 0222 67EE277A 		vmul.f32	s15, s14, s15
 320 0226 C7ED017A 		vstr.32	s15, [r7, #4]
  62:Core/Src/queternion.c **** 
  63:Core/Src/queternion.c ****     // Dot product
  64:Core/Src/queternion.c ****     float dot = ax * gx + ay * gy + az * gz;
 321              		.loc 1 64 20
 322 022a 97ED037A 		vldr.32	s14, [r7, #12]
 323 022e D7ED097A 		vldr.32	s15, [r7, #36]
 324 0232 27EE277A 		vmul.f32	s14, s14, s15
 325              		.loc 1 64 30
 326 0236 D7ED026A 		vldr.32	s13, [r7, #8]
 327 023a D7ED087A 		vldr.32	s15, [r7, #32]
 328 023e 66EEA77A 		vmul.f32	s15, s13, s15
 329              		.loc 1 64 25
 330 0242 37EE277A 		vadd.f32	s14, s14, s15
 331              		.loc 1 64 40
 332 0246 D7ED016A 		vldr.32	s13, [r7, #4]
 333 024a D7ED077A 		vldr.32	s15, [r7, #28]
 334 024e 66EEA77A 		vmul.f32	s15, s13, s15
 335              		.loc 1 64 11
 336 0252 77EE277A 		vadd.f32	s15, s14, s15
 337 0256 C7ED0B7A 		vstr.32	s15, [r7, #44]
  65:Core/Src/queternion.c ****     if (dot > 1.0f) dot = 1.0f;
 338              		.loc 1 65 8
 339 025a D7ED0B7A 		vldr.32	s15, [r7, #44]
 340 025e B7EE007A 		vmov.f32	s14, #1.0e+0
 341 0262 F4EEC77A 		vcmpe.f32	s15, s14
 342 0266 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 343 026a 02DD     		ble	.L4
 344              		.loc 1 65 25 discriminator 1
 345 026c 4FF07E53 		mov	r3, #1065353216
 346 0270 FB62     		str	r3, [r7, #44]	@ float
 347              	.L4:
  66:Core/Src/queternion.c ****     if (dot < -1.0f) dot = -1.0f;
 348              		.loc 1 66 8
 349 0272 D7ED0B7A 		vldr.32	s15, [r7, #44]
 350 0276 BFEE007A 		vmov.f32	s14, #-1.0e+0
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 8


 351 027a F4EEC77A 		vcmpe.f32	s15, s14
 352 027e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 353 0282 01D5     		bpl	.L6
 354              		.loc 1 66 26 discriminator 1
 355 0284 394B     		ldr	r3, .L20+4
 356 0286 FB62     		str	r3, [r7, #44]	@ float
 357              	.L6:
  67:Core/Src/queternion.c **** 
  68:Core/Src/queternion.c ****     // Açı farkı (derece)
  69:Core/Src/queternion.c ****     float accErrorAngle = acosf(dot) * (180.0f / 3.1415926f);
 358              		.loc 1 69 27
 359 0288 97ED0B0A 		vldr.32	s0, [r7, #44]
 360 028c FFF7FEFF 		bl	acosf
 361 0290 F0EE407A 		vmov.f32	s15, s0
 362              		.loc 1 69 11
 363 0294 9FED367A 		vldr.32	s14, .L20+8
 364 0298 67EE877A 		vmul.f32	s15, s15, s14
 365 029c C7ED047A 		vstr.32	s15, [r7, #16]
  70:Core/Src/queternion.c **** 
  71:Core/Src/queternion.c ****     // Duruma göre kazanç ayarla
  72:Core/Src/queternion.c ****     if (accErrorAngle > 30.0f) {
 366              		.loc 1 72 8
 367 02a0 D7ED047A 		vldr.32	s15, [r7, #16]
 368 02a4 B3EE0E7A 		vmov.f32	s14, #3.0e+1
 369 02a8 F4EEC77A 		vcmpe.f32	s15, s14
 370 02ac F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 371 02b0 0ADD     		ble	.L17
  73:Core/Src/queternion.c ****         Gain = 1;
 372              		.loc 1 73 14
 373 02b2 304B     		ldr	r3, .L20+12
 374 02b4 0122     		movs	r2, #1
 375 02b6 1A70     		strb	r2, [r3]
  74:Core/Src/queternion.c ****         twoKp = 0.2f;
 376              		.loc 1 74 15
 377 02b8 2F4B     		ldr	r3, .L20+16
 378 02ba 304A     		ldr	r2, .L20+20
 379 02bc 1A60     		str	r2, [r3]	@ float
  75:Core/Src/queternion.c ****         twoKi = 0.0f;
 380              		.loc 1 75 15
 381 02be 304B     		ldr	r3, .L20+24
 382 02c0 4FF00002 		mov	r2, #0
 383 02c4 1A60     		str	r2, [r3]	@ float
 384 02c6 1DE0     		b	.L10
 385              	.L17:
  76:Core/Src/queternion.c ****     } else if (accErrorAngle > 10.0f) {
 386              		.loc 1 76 15
 387 02c8 D7ED047A 		vldr.32	s15, [r7, #16]
 388 02cc B2EE047A 		vmov.f32	s14, #1.0e+1
 389 02d0 F4EEC77A 		vcmpe.f32	s15, s14
 390 02d4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 391 02d8 0ADD     		ble	.L18
  77:Core/Src/queternion.c ****         Gain = 2;
 392              		.loc 1 77 14
 393 02da 264B     		ldr	r3, .L20+12
 394 02dc 0222     		movs	r2, #2
 395 02de 1A70     		strb	r2, [r3]
  78:Core/Src/queternion.c ****         twoKp = 2.0f;
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 9


 396              		.loc 1 78 15
 397 02e0 254B     		ldr	r3, .L20+16
 398 02e2 4FF08042 		mov	r2, #1073741824
 399 02e6 1A60     		str	r2, [r3]	@ float
  79:Core/Src/queternion.c ****         twoKi = 0.01f;
 400              		.loc 1 79 15
 401 02e8 254B     		ldr	r3, .L20+24
 402 02ea 264A     		ldr	r2, .L20+28
 403 02ec 1A60     		str	r2, [r3]	@ float
 404 02ee 09E0     		b	.L10
 405              	.L18:
  80:Core/Src/queternion.c ****     } else {
  81:Core/Src/queternion.c ****         Gain = 3;
 406              		.loc 1 81 14
 407 02f0 204B     		ldr	r3, .L20+12
 408 02f2 0322     		movs	r2, #3
 409 02f4 1A70     		strb	r2, [r3]
  82:Core/Src/queternion.c ****         twoKp = 8.0f;
 410              		.loc 1 82 15
 411 02f6 204B     		ldr	r3, .L20+16
 412 02f8 4FF08242 		mov	r2, #1090519040
 413 02fc 1A60     		str	r2, [r3]	@ float
  83:Core/Src/queternion.c ****         twoKi = 0.05f;
 414              		.loc 1 83 15
 415 02fe 204B     		ldr	r3, .L20+24
 416 0300 214A     		ldr	r2, .L20+32
 417 0302 1A60     		str	r2, [r3]	@ float
 418              	.L10:
  84:Core/Src/queternion.c ****     }
  85:Core/Src/queternion.c **** 
  86:Core/Src/queternion.c ****     // Güvenlik: kazanç sınırla (opsiyonel ama önerilir)
  87:Core/Src/queternion.c ****     twoKp = fmaxf(TWO_KP_MIN, fminf(twoKp, TWO_KP_MAX));
 419              		.loc 1 87 13
 420 0304 1C4B     		ldr	r3, .L20+16
 421 0306 D3ED007A 		vldr.32	s15, [r3]
 422 030a F1EE000A 		vmov.f32	s1, #4.0e+0
 423 030e B0EE670A 		vmov.f32	s0, s15
 424 0312 FFF7FEFF 		bl	fminf
 425 0316 F0EE407A 		vmov.f32	s15, s0
 426 031a DFED1C0A 		vldr.32	s1, .L20+36
 427 031e B0EE670A 		vmov.f32	s0, s15
 428 0322 FFF7FEFF 		bl	fmaxf
 429 0326 F0EE407A 		vmov.f32	s15, s0
 430              		.loc 1 87 11
 431 032a 134B     		ldr	r3, .L20+16
 432 032c C3ED007A 		vstr.32	s15, [r3]
  88:Core/Src/queternion.c ****     twoKi = fmaxf(TWO_KI_MIN, fminf(twoKi, TWO_KI_MAX));
 433              		.loc 1 88 13
 434 0330 134B     		ldr	r3, .L20+24
 435 0332 D3ED007A 		vldr.32	s15, [r3]
 436 0336 DFED160A 		vldr.32	s1, .L20+40
 437 033a B0EE670A 		vmov.f32	s0, s15
 438 033e FFF7FEFF 		bl	fminf
 439 0342 F0EE407A 		vmov.f32	s15, s0
 440 0346 DFED130A 		vldr.32	s1, .L20+44
 441 034a B0EE670A 		vmov.f32	s0, s15
 442 034e FFF7FEFF 		bl	fmaxf
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 10


 443 0352 F0EE407A 		vmov.f32	s15, s0
 444              		.loc 1 88 11
 445 0356 0A4B     		ldr	r3, .L20+24
 446 0358 C3ED007A 		vstr.32	s15, [r3]
 447 035c 00E0     		b	.L1
 448              	.L19:
  40:Core/Src/queternion.c ****     q[0] /= norm_q;
 449              		.loc 1 40 25
 450 035e 00BF     		nop
 451              	.L1:
  89:Core/Src/queternion.c **** }
 452              		.loc 1 89 1
 453 0360 3037     		adds	r7, r7, #48
 454              		.cfi_def_cfa_offset 8
 455 0362 BD46     		mov	sp, r7
 456              		.cfi_def_cfa_register 13
 457              		@ sp needed
 458 0364 80BD     		pop	{r7, pc}
 459              	.L21:
 460 0366 00BF     		.align	2
 461              	.L20:
 462 0368 00000000 		.word	q
 463 036c 000080BF 		.word	-1082130432
 464 0370 E22E6542 		.word	1113927394
 465 0374 00000000 		.word	Gain
 466 0378 00000000 		.word	twoKp
 467 037c CDCC4C3E 		.word	1045220557
 468 0380 00000000 		.word	twoKi
 469 0384 0AD7233C 		.word	1008981770
 470 0388 CDCC4C3D 		.word	1028443341
 471 038c CDCCCC3D 		.word	1036831949
 472 0390 CDCC4C3D 		.word	1028443341
 473 0394 00000000 		.word	0
 474              		.cfi_endproc
 475              	.LFE242:
 477              		.section	.text.Orientation_Update,"ax",%progbits
 478              		.align	1
 479              		.global	Orientation_Update
 480              		.syntax unified
 481              		.thumb
 482              		.thumb_func
 484              	Orientation_Update:
 485              	.LFB243:
  90:Core/Src/queternion.c **** 
  91:Core/Src/queternion.c **** 
  92:Core/Src/queternion.c **** 
  93:Core/Src/queternion.c **** 
  94:Core/Src/queternion.c **** 
  95:Core/Src/queternion.c **** void Orientation_Update(float gx, float gy, float gz, float ax, float ay, float az, float dt) {
 486              		.loc 1 95 95
 487              		.cfi_startproc
 488              		@ args = 0, pretend = 0, frame = 40
 489              		@ frame_needed = 1, uses_anonymous_args = 0
 490 0000 80B5     		push	{r7, lr}
 491              		.cfi_def_cfa_offset 8
 492              		.cfi_offset 7, -8
 493              		.cfi_offset 14, -4
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 11


 494 0002 8AB0     		sub	sp, sp, #40
 495              		.cfi_def_cfa_offset 48
 496 0004 00AF     		add	r7, sp, #0
 497              		.cfi_def_cfa_register 7
 498 0006 87ED070A 		vstr.32	s0, [r7, #28]
 499 000a C7ED060A 		vstr.32	s1, [r7, #24]
 500 000e 87ED051A 		vstr.32	s2, [r7, #20]
 501 0012 C7ED041A 		vstr.32	s3, [r7, #16]
 502 0016 87ED032A 		vstr.32	s4, [r7, #12]
 503 001a C7ED022A 		vstr.32	s5, [r7, #8]
 504 001e 87ED013A 		vstr.32	s6, [r7, #4]
  96:Core/Src/queternion.c **** 	static float ax_f = 0, ay_f = 0, az_f = 0;
  97:Core/Src/queternion.c ****     const float alpha = 0.3f;
 505              		.loc 1 97 17
 506 0022 604B     		ldr	r3, .L32
 507 0024 7B62     		str	r3, [r7, #36]	@ float
  98:Core/Src/queternion.c **** 
  99:Core/Src/queternion.c ****     // LPF filtre
 100:Core/Src/queternion.c ****     ax_f = alpha * ax + (1.0f - alpha) * ax_f;
 508              		.loc 1 100 18
 509 0026 97ED097A 		vldr.32	s14, [r7, #36]
 510 002a D7ED047A 		vldr.32	s15, [r7, #16]
 511 002e 27EE277A 		vmul.f32	s14, s14, s15
 512              		.loc 1 100 31
 513 0032 F7EE006A 		vmov.f32	s13, #1.0e+0
 514 0036 D7ED097A 		vldr.32	s15, [r7, #36]
 515 003a 76EEE76A 		vsub.f32	s13, s13, s15
 516              		.loc 1 100 40
 517 003e 5A4B     		ldr	r3, .L32+4
 518 0040 D3ED007A 		vldr.32	s15, [r3]
 519 0044 66EEA77A 		vmul.f32	s15, s13, s15
 520              		.loc 1 100 23
 521 0048 77EE277A 		vadd.f32	s15, s14, s15
 522              		.loc 1 100 10
 523 004c 564B     		ldr	r3, .L32+4
 524 004e C3ED007A 		vstr.32	s15, [r3]
 101:Core/Src/queternion.c ****     ay_f = alpha * ay + (1.0f - alpha) * ay_f;
 525              		.loc 1 101 18
 526 0052 97ED097A 		vldr.32	s14, [r7, #36]
 527 0056 D7ED037A 		vldr.32	s15, [r7, #12]
 528 005a 27EE277A 		vmul.f32	s14, s14, s15
 529              		.loc 1 101 31
 530 005e F7EE006A 		vmov.f32	s13, #1.0e+0
 531 0062 D7ED097A 		vldr.32	s15, [r7, #36]
 532 0066 76EEE76A 		vsub.f32	s13, s13, s15
 533              		.loc 1 101 40
 534 006a 504B     		ldr	r3, .L32+8
 535 006c D3ED007A 		vldr.32	s15, [r3]
 536 0070 66EEA77A 		vmul.f32	s15, s13, s15
 537              		.loc 1 101 23
 538 0074 77EE277A 		vadd.f32	s15, s14, s15
 539              		.loc 1 101 10
 540 0078 4C4B     		ldr	r3, .L32+8
 541 007a C3ED007A 		vstr.32	s15, [r3]
 102:Core/Src/queternion.c ****     az_f = alpha * az + (1.0f - alpha) * az_f;
 542              		.loc 1 102 18
 543 007e 97ED097A 		vldr.32	s14, [r7, #36]
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 12


 544 0082 D7ED027A 		vldr.32	s15, [r7, #8]
 545 0086 27EE277A 		vmul.f32	s14, s14, s15
 546              		.loc 1 102 31
 547 008a F7EE006A 		vmov.f32	s13, #1.0e+0
 548 008e D7ED097A 		vldr.32	s15, [r7, #36]
 549 0092 76EEE76A 		vsub.f32	s13, s13, s15
 550              		.loc 1 102 40
 551 0096 464B     		ldr	r3, .L32+12
 552 0098 D3ED007A 		vldr.32	s15, [r3]
 553 009c 66EEA77A 		vmul.f32	s15, s13, s15
 554              		.loc 1 102 23
 555 00a0 77EE277A 		vadd.f32	s15, s14, s15
 556              		.loc 1 102 10
 557 00a4 424B     		ldr	r3, .L32+12
 558 00a6 C3ED007A 		vstr.32	s15, [r3]
 103:Core/Src/queternion.c **** 
 104:Core/Src/queternion.c ****     // Kazançları güncelle
 105:Core/Src/queternion.c ****     UpdateMahonyGains(ax_f, ay_f, az_f);
 559              		.loc 1 105 5
 560 00aa 3F4B     		ldr	r3, .L32+4
 561 00ac D3ED007A 		vldr.32	s15, [r3]
 562 00b0 3E4B     		ldr	r3, .L32+8
 563 00b2 93ED007A 		vldr.32	s14, [r3]
 564 00b6 3E4B     		ldr	r3, .L32+12
 565 00b8 D3ED006A 		vldr.32	s13, [r3]
 566 00bc B0EE661A 		vmov.f32	s2, s13
 567 00c0 F0EE470A 		vmov.f32	s1, s14
 568 00c4 B0EE670A 		vmov.f32	s0, s15
 569 00c8 FFF7FEFF 		bl	UpdateMahonyGains
 106:Core/Src/queternion.c **** 
 107:Core/Src/queternion.c ****     // Acc magnitude
 108:Core/Src/queternion.c ****     float accMag = sqrtf(ax_f*ax_f + ay_f*ay_f + az_f*az_f);
 570              		.loc 1 108 30
 571 00cc 364B     		ldr	r3, .L32+4
 572 00ce 93ED007A 		vldr.32	s14, [r3]
 573 00d2 354B     		ldr	r3, .L32+4
 574 00d4 D3ED007A 		vldr.32	s15, [r3]
 575 00d8 27EE277A 		vmul.f32	s14, s14, s15
 576              		.loc 1 108 42
 577 00dc 334B     		ldr	r3, .L32+8
 578 00de D3ED006A 		vldr.32	s13, [r3]
 579 00e2 324B     		ldr	r3, .L32+8
 580 00e4 D3ED007A 		vldr.32	s15, [r3]
 581 00e8 66EEA77A 		vmul.f32	s15, s13, s15
 582              		.loc 1 108 36
 583 00ec 37EE277A 		vadd.f32	s14, s14, s15
 584              		.loc 1 108 54
 585 00f0 2F4B     		ldr	r3, .L32+12
 586 00f2 D3ED006A 		vldr.32	s13, [r3]
 587 00f6 2E4B     		ldr	r3, .L32+12
 588 00f8 D3ED007A 		vldr.32	s15, [r3]
 589 00fc 66EEA77A 		vmul.f32	s15, s13, s15
 590              		.loc 1 108 20
 591 0100 77EE277A 		vadd.f32	s15, s14, s15
 592 0104 B0EE670A 		vmov.f32	s0, s15
 593 0108 FFF7FEFF 		bl	sqrtf
 594 010c 87ED080A 		vstr.32	s0, [r7, #32]
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 13


 109:Core/Src/queternion.c **** 
 110:Core/Src/queternion.c ****     if (gyroOnlyMode) {
 595              		.loc 1 110 9
 596 0110 284B     		ldr	r3, .L32+16
 597 0112 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 598              		.loc 1 110 8
 599 0114 002B     		cmp	r3, #0
 600 0116 0CD0     		beq	.L23
 111:Core/Src/queternion.c ****             if (accMag < ACC_THRESHOLD_LOW)
 601              		.loc 1 111 16
 602 0118 D7ED087A 		vldr.32	s15, [r7, #32]
 603 011c 9FED267A 		vldr.32	s14, .L32+20
 604 0120 F4EEC77A 		vcmpe.f32	s15, s14
 605 0124 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 606 0128 0FD5     		bpl	.L24
 112:Core/Src/queternion.c ****                 gyroOnlyMode = 0;
 607              		.loc 1 112 30
 608 012a 224B     		ldr	r3, .L32+16
 609 012c 0022     		movs	r2, #0
 610 012e 1A70     		strb	r2, [r3]
 611 0130 0BE0     		b	.L24
 612              	.L23:
 113:Core/Src/queternion.c **** 	} else {
 114:Core/Src/queternion.c **** 		if (accMag > ACC_THRESHOLD_HIGH)
 613              		.loc 1 114 6
 614 0132 D7ED087A 		vldr.32	s15, [r7, #32]
 615 0136 9FED217A 		vldr.32	s14, .L32+24
 616 013a F4EEC77A 		vcmpe.f32	s15, s14
 617 013e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 618 0142 02DD     		ble	.L24
 115:Core/Src/queternion.c **** 			gyroOnlyMode = 1;
 619              		.loc 1 115 17
 620 0144 1B4B     		ldr	r3, .L32+16
 621 0146 0122     		movs	r2, #1
 622 0148 1A70     		strb	r2, [r3]
 623              	.L24:
 116:Core/Src/queternion.c **** 	}
 117:Core/Src/queternion.c **** 
 118:Core/Src/queternion.c **** 
 119:Core/Src/queternion.c **** 
 120:Core/Src/queternion.c ****     // Filtre çağrısı
 121:Core/Src/queternion.c ****     if (gyroOnlyMode)
 624              		.loc 1 121 9
 625 014a 1A4B     		ldr	r3, .L32+16
 626 014c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 627              		.loc 1 121 8
 628 014e 002B     		cmp	r3, #0
 629 0150 0AD0     		beq	.L27
 122:Core/Src/queternion.c ****         updateQuaternion(gx, gy, gz, dt);
 630              		.loc 1 122 9
 631 0152 D7ED011A 		vldr.32	s3, [r7, #4]
 632 0156 97ED051A 		vldr.32	s2, [r7, #20]
 633 015a D7ED060A 		vldr.32	s1, [r7, #24]
 634 015e 97ED070A 		vldr.32	s0, [r7, #28]
 635 0162 FFF7FEFF 		bl	updateQuaternion
 123:Core/Src/queternion.c ****     else
 124:Core/Src/queternion.c ****         MahonyAHRSupdateIMU(gx, gy, gz, ax_f, ay_f, az_f, dt);
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 14


 125:Core/Src/queternion.c **** }
 636              		.loc 1 125 1
 637 0166 18E0     		b	.L31
 638              	.L27:
 124:Core/Src/queternion.c **** }
 639              		.loc 1 124 9
 640 0168 0F4B     		ldr	r3, .L32+4
 641 016a D3ED007A 		vldr.32	s15, [r3]
 642 016e 0F4B     		ldr	r3, .L32+8
 643 0170 93ED007A 		vldr.32	s14, [r3]
 644 0174 0E4B     		ldr	r3, .L32+12
 645 0176 D3ED006A 		vldr.32	s13, [r3]
 646 017a 97ED013A 		vldr.32	s6, [r7, #4]
 647 017e F0EE662A 		vmov.f32	s5, s13
 648 0182 B0EE472A 		vmov.f32	s4, s14
 649 0186 F0EE671A 		vmov.f32	s3, s15
 650 018a 97ED051A 		vldr.32	s2, [r7, #20]
 651 018e D7ED060A 		vldr.32	s1, [r7, #24]
 652 0192 97ED070A 		vldr.32	s0, [r7, #28]
 653 0196 FFF7FEFF 		bl	MahonyAHRSupdateIMU
 654              	.L31:
 655              		.loc 1 125 1
 656 019a 00BF     		nop
 657 019c 2837     		adds	r7, r7, #40
 658              		.cfi_def_cfa_offset 8
 659 019e BD46     		mov	sp, r7
 660              		.cfi_def_cfa_register 13
 661              		@ sp needed
 662 01a0 80BD     		pop	{r7, pc}
 663              	.L33:
 664 01a2 00BF     		.align	2
 665              	.L32:
 666 01a4 9A99993E 		.word	1050253722
 667 01a8 00000000 		.word	ax_f.2
 668 01ac 00000000 		.word	ay_f.1
 669 01b0 00000000 		.word	az_f.0
 670 01b4 00000000 		.word	gyroOnlyMode
 671 01b8 DBD2D341 		.word	1104401115
 672 01bc A2720142 		.word	1107391138
 673              		.cfi_endproc
 674              	.LFE243:
 676              		.section	.text.updateQuaternion,"ax",%progbits
 677              		.align	1
 678              		.global	updateQuaternion
 679              		.syntax unified
 680              		.thumb
 681              		.thumb_func
 683              	updateQuaternion:
 684              	.LFB244:
 126:Core/Src/queternion.c **** 
 127:Core/Src/queternion.c **** 
 128:Core/Src/queternion.c **** void updateQuaternion(float gx, float gy, float gz, float dt) {
 685              		.loc 1 128 63
 686              		.cfi_startproc
 687              		@ args = 0, pretend = 0, frame = 40
 688              		@ frame_needed = 1, uses_anonymous_args = 0
 689 0000 80B5     		push	{r7, lr}
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 15


 690              		.cfi_def_cfa_offset 8
 691              		.cfi_offset 7, -8
 692              		.cfi_offset 14, -4
 693 0002 8AB0     		sub	sp, sp, #40
 694              		.cfi_def_cfa_offset 48
 695 0004 00AF     		add	r7, sp, #0
 696              		.cfi_def_cfa_register 7
 697 0006 87ED030A 		vstr.32	s0, [r7, #12]
 698 000a C7ED020A 		vstr.32	s1, [r7, #8]
 699 000e 87ED011A 		vstr.32	s2, [r7, #4]
 700 0012 C7ED001A 		vstr.32	s3, [r7]
 129:Core/Src/queternion.c **** 
 130:Core/Src/queternion.c ****     // Quaternion türevleri
 131:Core/Src/queternion.c ****     float qDot1 = 0.5f * (-q[1] * gx - q[2] * gy - q[3] * gz);
 701              		.loc 1 131 29
 702 0016 8C4B     		ldr	r3, .L39
 703 0018 D3ED017A 		vldr.32	s15, [r3, #4]
 704              		.loc 1 131 27
 705 001c B1EE677A 		vneg.f32	s14, s15
 706              		.loc 1 131 33
 707 0020 D7ED037A 		vldr.32	s15, [r7, #12]
 708 0024 27EE277A 		vmul.f32	s14, s14, s15
 709              		.loc 1 131 41
 710 0028 874B     		ldr	r3, .L39
 711 002a D3ED026A 		vldr.32	s13, [r3, #8]
 712              		.loc 1 131 45
 713 002e D7ED027A 		vldr.32	s15, [r7, #8]
 714 0032 66EEA77A 		vmul.f32	s15, s13, s15
 715              		.loc 1 131 38
 716 0036 37EE677A 		vsub.f32	s14, s14, s15
 717              		.loc 1 131 53
 718 003a 834B     		ldr	r3, .L39
 719 003c D3ED036A 		vldr.32	s13, [r3, #12]
 720              		.loc 1 131 57
 721 0040 D7ED017A 		vldr.32	s15, [r7, #4]
 722 0044 66EEA77A 		vmul.f32	s15, s13, s15
 723              		.loc 1 131 50
 724 0048 77EE677A 		vsub.f32	s15, s14, s15
 725              		.loc 1 131 11
 726 004c B6EE007A 		vmov.f32	s14, #5.0e-1
 727 0050 67EE877A 		vmul.f32	s15, s15, s14
 728 0054 C7ED097A 		vstr.32	s15, [r7, #36]
 132:Core/Src/queternion.c ****     float qDot2 = 0.5f * ( q[0] * gx + q[2] * gz - q[3] * gy);
 729              		.loc 1 132 29
 730 0058 7B4B     		ldr	r3, .L39
 731 005a 93ED007A 		vldr.32	s14, [r3]
 732              		.loc 1 132 33
 733 005e D7ED037A 		vldr.32	s15, [r7, #12]
 734 0062 27EE277A 		vmul.f32	s14, s14, s15
 735              		.loc 1 132 41
 736 0066 784B     		ldr	r3, .L39
 737 0068 D3ED026A 		vldr.32	s13, [r3, #8]
 738              		.loc 1 132 45
 739 006c D7ED017A 		vldr.32	s15, [r7, #4]
 740 0070 66EEA77A 		vmul.f32	s15, s13, s15
 741              		.loc 1 132 38
 742 0074 37EE277A 		vadd.f32	s14, s14, s15
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 16


 743              		.loc 1 132 53
 744 0078 734B     		ldr	r3, .L39
 745 007a D3ED036A 		vldr.32	s13, [r3, #12]
 746              		.loc 1 132 57
 747 007e D7ED027A 		vldr.32	s15, [r7, #8]
 748 0082 66EEA77A 		vmul.f32	s15, s13, s15
 749              		.loc 1 132 50
 750 0086 77EE677A 		vsub.f32	s15, s14, s15
 751              		.loc 1 132 11
 752 008a B6EE007A 		vmov.f32	s14, #5.0e-1
 753 008e 67EE877A 		vmul.f32	s15, s15, s14
 754 0092 C7ED087A 		vstr.32	s15, [r7, #32]
 133:Core/Src/queternion.c ****     float qDot3 = 0.5f * ( q[0] * gy - q[1] * gz + q[3] * gx);
 755              		.loc 1 133 29
 756 0096 6C4B     		ldr	r3, .L39
 757 0098 93ED007A 		vldr.32	s14, [r3]
 758              		.loc 1 133 33
 759 009c D7ED027A 		vldr.32	s15, [r7, #8]
 760 00a0 27EE277A 		vmul.f32	s14, s14, s15
 761              		.loc 1 133 41
 762 00a4 684B     		ldr	r3, .L39
 763 00a6 D3ED016A 		vldr.32	s13, [r3, #4]
 764              		.loc 1 133 45
 765 00aa D7ED017A 		vldr.32	s15, [r7, #4]
 766 00ae 66EEA77A 		vmul.f32	s15, s13, s15
 767              		.loc 1 133 38
 768 00b2 37EE677A 		vsub.f32	s14, s14, s15
 769              		.loc 1 133 53
 770 00b6 644B     		ldr	r3, .L39
 771 00b8 D3ED036A 		vldr.32	s13, [r3, #12]
 772              		.loc 1 133 57
 773 00bc D7ED037A 		vldr.32	s15, [r7, #12]
 774 00c0 66EEA77A 		vmul.f32	s15, s13, s15
 775              		.loc 1 133 50
 776 00c4 77EE277A 		vadd.f32	s15, s14, s15
 777              		.loc 1 133 11
 778 00c8 B6EE007A 		vmov.f32	s14, #5.0e-1
 779 00cc 67EE877A 		vmul.f32	s15, s15, s14
 780 00d0 C7ED077A 		vstr.32	s15, [r7, #28]
 134:Core/Src/queternion.c ****     float qDot4 = 0.5f * ( q[0] * gz + q[1] * gy - q[2] * gx);
 781              		.loc 1 134 29
 782 00d4 5C4B     		ldr	r3, .L39
 783 00d6 93ED007A 		vldr.32	s14, [r3]
 784              		.loc 1 134 33
 785 00da D7ED017A 		vldr.32	s15, [r7, #4]
 786 00de 27EE277A 		vmul.f32	s14, s14, s15
 787              		.loc 1 134 41
 788 00e2 594B     		ldr	r3, .L39
 789 00e4 D3ED016A 		vldr.32	s13, [r3, #4]
 790              		.loc 1 134 45
 791 00e8 D7ED027A 		vldr.32	s15, [r7, #8]
 792 00ec 66EEA77A 		vmul.f32	s15, s13, s15
 793              		.loc 1 134 38
 794 00f0 37EE277A 		vadd.f32	s14, s14, s15
 795              		.loc 1 134 53
 796 00f4 544B     		ldr	r3, .L39
 797 00f6 D3ED026A 		vldr.32	s13, [r3, #8]
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 17


 798              		.loc 1 134 57
 799 00fa D7ED037A 		vldr.32	s15, [r7, #12]
 800 00fe 66EEA77A 		vmul.f32	s15, s13, s15
 801              		.loc 1 134 50
 802 0102 77EE677A 		vsub.f32	s15, s14, s15
 803              		.loc 1 134 11
 804 0106 B6EE007A 		vmov.f32	s14, #5.0e-1
 805 010a 67EE877A 		vmul.f32	s15, s15, s14
 806 010e C7ED067A 		vstr.32	s15, [r7, #24]
 135:Core/Src/queternion.c **** 
 136:Core/Src/queternion.c ****     // Entegrasyon
 137:Core/Src/queternion.c ****     q[0] += qDot1 * dt;
 807              		.loc 1 137 6
 808 0112 4D4B     		ldr	r3, .L39
 809 0114 93ED007A 		vldr.32	s14, [r3]
 810              		.loc 1 137 19
 811 0118 D7ED096A 		vldr.32	s13, [r7, #36]
 812 011c D7ED007A 		vldr.32	s15, [r7]
 813 0120 66EEA77A 		vmul.f32	s15, s13, s15
 814              		.loc 1 137 10
 815 0124 77EE277A 		vadd.f32	s15, s14, s15
 816 0128 474B     		ldr	r3, .L39
 817 012a C3ED007A 		vstr.32	s15, [r3]
 138:Core/Src/queternion.c ****     q[1] += qDot2 * dt;
 818              		.loc 1 138 6
 819 012e 464B     		ldr	r3, .L39
 820 0130 93ED017A 		vldr.32	s14, [r3, #4]
 821              		.loc 1 138 19
 822 0134 D7ED086A 		vldr.32	s13, [r7, #32]
 823 0138 D7ED007A 		vldr.32	s15, [r7]
 824 013c 66EEA77A 		vmul.f32	s15, s13, s15
 825              		.loc 1 138 10
 826 0140 77EE277A 		vadd.f32	s15, s14, s15
 827 0144 404B     		ldr	r3, .L39
 828 0146 C3ED017A 		vstr.32	s15, [r3, #4]
 139:Core/Src/queternion.c ****     q[2] += qDot3 * dt;
 829              		.loc 1 139 6
 830 014a 3F4B     		ldr	r3, .L39
 831 014c 93ED027A 		vldr.32	s14, [r3, #8]
 832              		.loc 1 139 19
 833 0150 D7ED076A 		vldr.32	s13, [r7, #28]
 834 0154 D7ED007A 		vldr.32	s15, [r7]
 835 0158 66EEA77A 		vmul.f32	s15, s13, s15
 836              		.loc 1 139 10
 837 015c 77EE277A 		vadd.f32	s15, s14, s15
 838 0160 394B     		ldr	r3, .L39
 839 0162 C3ED027A 		vstr.32	s15, [r3, #8]
 140:Core/Src/queternion.c ****     q[3] += qDot4 * dt;
 840              		.loc 1 140 6
 841 0166 384B     		ldr	r3, .L39
 842 0168 93ED037A 		vldr.32	s14, [r3, #12]
 843              		.loc 1 140 19
 844 016c D7ED066A 		vldr.32	s13, [r7, #24]
 845 0170 D7ED007A 		vldr.32	s15, [r7]
 846 0174 66EEA77A 		vmul.f32	s15, s13, s15
 847              		.loc 1 140 10
 848 0178 77EE277A 		vadd.f32	s15, s14, s15
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 18


 849 017c 324B     		ldr	r3, .L39
 850 017e C3ED037A 		vstr.32	s15, [r3, #12]
 141:Core/Src/queternion.c **** 
 142:Core/Src/queternion.c ****     // Normalize et
 143:Core/Src/queternion.c ****     float norm = sqrtf(q[0]*q[0] + q[1]*q[1] + q[2]*q[2] + q[3]*q[3]);
 851              		.loc 1 143 25
 852 0182 314B     		ldr	r3, .L39
 853 0184 93ED007A 		vldr.32	s14, [r3]
 854              		.loc 1 143 30
 855 0188 2F4B     		ldr	r3, .L39
 856 018a D3ED007A 		vldr.32	s15, [r3]
 857              		.loc 1 143 28
 858 018e 27EE277A 		vmul.f32	s14, s14, s15
 859              		.loc 1 143 37
 860 0192 2D4B     		ldr	r3, .L39
 861 0194 D3ED016A 		vldr.32	s13, [r3, #4]
 862              		.loc 1 143 42
 863 0198 2B4B     		ldr	r3, .L39
 864 019a D3ED017A 		vldr.32	s15, [r3, #4]
 865              		.loc 1 143 40
 866 019e 66EEA77A 		vmul.f32	s15, s13, s15
 867              		.loc 1 143 34
 868 01a2 37EE277A 		vadd.f32	s14, s14, s15
 869              		.loc 1 143 49
 870 01a6 284B     		ldr	r3, .L39
 871 01a8 D3ED026A 		vldr.32	s13, [r3, #8]
 872              		.loc 1 143 54
 873 01ac 264B     		ldr	r3, .L39
 874 01ae D3ED027A 		vldr.32	s15, [r3, #8]
 875              		.loc 1 143 52
 876 01b2 66EEA77A 		vmul.f32	s15, s13, s15
 877              		.loc 1 143 46
 878 01b6 37EE277A 		vadd.f32	s14, s14, s15
 879              		.loc 1 143 61
 880 01ba 234B     		ldr	r3, .L39
 881 01bc D3ED036A 		vldr.32	s13, [r3, #12]
 882              		.loc 1 143 66
 883 01c0 214B     		ldr	r3, .L39
 884 01c2 D3ED037A 		vldr.32	s15, [r3, #12]
 885              		.loc 1 143 64
 886 01c6 66EEA77A 		vmul.f32	s15, s13, s15
 887              		.loc 1 143 18
 888 01ca 77EE277A 		vadd.f32	s15, s14, s15
 889 01ce B0EE670A 		vmov.f32	s0, s15
 890 01d2 FFF7FEFF 		bl	sqrtf
 891 01d6 87ED050A 		vstr.32	s0, [r7, #20]
 144:Core/Src/queternion.c ****     if (norm > 1e-6f) {
 892              		.loc 1 144 8
 893 01da D7ED057A 		vldr.32	s15, [r7, #20]
 894 01de 9FED1B7A 		vldr.32	s14, .L39+4
 895 01e2 F4EEC77A 		vcmpe.f32	s15, s14
 896 01e6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 897 01ea 00DC     		bgt	.L37
 145:Core/Src/queternion.c ****         q[0] /= norm;
 146:Core/Src/queternion.c ****         q[1] /= norm;
 147:Core/Src/queternion.c ****         q[2] /= norm;
 148:Core/Src/queternion.c ****         q[3] /= norm;
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 19


 149:Core/Src/queternion.c ****     }
 150:Core/Src/queternion.c **** }
 898              		.loc 1 150 1
 899 01ec 27E0     		b	.L38
 900              	.L37:
 145:Core/Src/queternion.c ****         q[0] /= norm;
 901              		.loc 1 145 10
 902 01ee 164B     		ldr	r3, .L39
 903 01f0 D3ED006A 		vldr.32	s13, [r3]
 145:Core/Src/queternion.c ****         q[0] /= norm;
 904              		.loc 1 145 14
 905 01f4 97ED057A 		vldr.32	s14, [r7, #20]
 906 01f8 C6EE877A 		vdiv.f32	s15, s13, s14
 907 01fc 124B     		ldr	r3, .L39
 908 01fe C3ED007A 		vstr.32	s15, [r3]
 146:Core/Src/queternion.c ****         q[2] /= norm;
 909              		.loc 1 146 10
 910 0202 114B     		ldr	r3, .L39
 911 0204 D3ED016A 		vldr.32	s13, [r3, #4]
 146:Core/Src/queternion.c ****         q[2] /= norm;
 912              		.loc 1 146 14
 913 0208 97ED057A 		vldr.32	s14, [r7, #20]
 914 020c C6EE877A 		vdiv.f32	s15, s13, s14
 915 0210 0D4B     		ldr	r3, .L39
 916 0212 C3ED017A 		vstr.32	s15, [r3, #4]
 147:Core/Src/queternion.c ****         q[3] /= norm;
 917              		.loc 1 147 10
 918 0216 0C4B     		ldr	r3, .L39
 919 0218 D3ED026A 		vldr.32	s13, [r3, #8]
 147:Core/Src/queternion.c ****         q[3] /= norm;
 920              		.loc 1 147 14
 921 021c 97ED057A 		vldr.32	s14, [r7, #20]
 922 0220 C6EE877A 		vdiv.f32	s15, s13, s14
 923 0224 084B     		ldr	r3, .L39
 924 0226 C3ED027A 		vstr.32	s15, [r3, #8]
 148:Core/Src/queternion.c ****     }
 925              		.loc 1 148 10
 926 022a 074B     		ldr	r3, .L39
 927 022c D3ED036A 		vldr.32	s13, [r3, #12]
 148:Core/Src/queternion.c ****     }
 928              		.loc 1 148 14
 929 0230 97ED057A 		vldr.32	s14, [r7, #20]
 930 0234 C6EE877A 		vdiv.f32	s15, s13, s14
 931 0238 034B     		ldr	r3, .L39
 932 023a C3ED037A 		vstr.32	s15, [r3, #12]
 933              	.L38:
 934              		.loc 1 150 1
 935 023e 00BF     		nop
 936 0240 2837     		adds	r7, r7, #40
 937              		.cfi_def_cfa_offset 8
 938 0242 BD46     		mov	sp, r7
 939              		.cfi_def_cfa_register 13
 940              		@ sp needed
 941 0244 80BD     		pop	{r7, pc}
 942              	.L40:
 943 0246 00BF     		.align	2
 944              	.L39:
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 20


 945 0248 00000000 		.word	q
 946 024c BD378635 		.word	897988541
 947              		.cfi_endproc
 948              	.LFE244:
 950              		.section	.text.quaternionSet_zero,"ax",%progbits
 951              		.align	1
 952              		.global	quaternionSet_zero
 953              		.syntax unified
 954              		.thumb
 955              		.thumb_func
 957              	quaternionSet_zero:
 958              	.LFB245:
 151:Core/Src/queternion.c **** 
 152:Core/Src/queternion.c **** void quaternionSet_zero(void) {
 959              		.loc 1 152 31
 960              		.cfi_startproc
 961              		@ args = 0, pretend = 0, frame = 32
 962              		@ frame_needed = 1, uses_anonymous_args = 0
 963 0000 80B5     		push	{r7, lr}
 964              		.cfi_def_cfa_offset 8
 965              		.cfi_offset 7, -8
 966              		.cfi_offset 14, -4
 967 0002 88B0     		sub	sp, sp, #32
 968              		.cfi_def_cfa_offset 40
 969 0004 00AF     		add	r7, sp, #0
 970              		.cfi_def_cfa_register 7
 153:Core/Src/queternion.c ****     float ax = (BMI_sensor.datas.acc_y/100);
 971              		.loc 1 153 33
 972 0006 754B     		ldr	r3, .L48
 973 0008 93ED187A 		vldr.32	s14, [r3, #96]
 974              		.loc 1 153 11
 975 000c DFED746A 		vldr.32	s13, .L48+4
 976 0010 C7EE267A 		vdiv.f32	s15, s14, s13
 977 0014 C7ED077A 		vstr.32	s15, [r7, #28]
 154:Core/Src/queternion.c ****     float ay = (BMI_sensor.datas.acc_z/100);
 978              		.loc 1 154 33
 979 0018 704B     		ldr	r3, .L48
 980 001a 93ED197A 		vldr.32	s14, [r3, #100]
 981              		.loc 1 154 11
 982 001e DFED706A 		vldr.32	s13, .L48+4
 983 0022 C7EE267A 		vdiv.f32	s15, s14, s13
 984 0026 C7ED067A 		vstr.32	s15, [r7, #24]
 155:Core/Src/queternion.c ****     float az = (-BMI_sensor.datas.acc_x/100);
 985              		.loc 1 155 34
 986 002a 6C4B     		ldr	r3, .L48
 987 002c D3ED177A 		vldr.32	s15, [r3, #92]
 988              		.loc 1 155 17
 989 0030 B1EE677A 		vneg.f32	s14, s15
 990              		.loc 1 155 11
 991 0034 DFED6A6A 		vldr.32	s13, .L48+4
 992 0038 C7EE267A 		vdiv.f32	s15, s14, s13
 993 003c C7ED057A 		vstr.32	s15, [r7, #20]
 156:Core/Src/queternion.c **** 
 157:Core/Src/queternion.c ****     float norm = sqrtf(ax * ax + ay * ay + az * az);
 994              		.loc 1 157 27
 995 0040 D7ED077A 		vldr.32	s15, [r7, #28]
 996 0044 27EEA77A 		vmul.f32	s14, s15, s15
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 21


 997              		.loc 1 157 37
 998 0048 D7ED067A 		vldr.32	s15, [r7, #24]
 999 004c 67EEA77A 		vmul.f32	s15, s15, s15
 1000              		.loc 1 157 32
 1001 0050 37EE277A 		vadd.f32	s14, s14, s15
 1002              		.loc 1 157 47
 1003 0054 D7ED057A 		vldr.32	s15, [r7, #20]
 1004 0058 67EEA77A 		vmul.f32	s15, s15, s15
 1005              		.loc 1 157 18
 1006 005c 77EE277A 		vadd.f32	s15, s14, s15
 1007 0060 B0EE670A 		vmov.f32	s0, s15
 1008 0064 FFF7FEFF 		bl	sqrtf
 1009 0068 87ED040A 		vstr.32	s0, [r7, #16]
 158:Core/Src/queternion.c ****     if (norm < 1e-6f) return;
 1010              		.loc 1 158 8
 1011 006c D7ED047A 		vldr.32	s15, [r7, #16]
 1012 0070 9FED5C7A 		vldr.32	s14, .L48+8
 1013 0074 F4EEC77A 		vcmpe.f32	s15, s14
 1014 0078 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1015 007c 00F1A980 		bmi	.L47
 159:Core/Src/queternion.c **** 
 160:Core/Src/queternion.c ****     ax /= norm;
 1016              		.loc 1 160 8
 1017 0080 D7ED076A 		vldr.32	s13, [r7, #28]
 1018 0084 97ED047A 		vldr.32	s14, [r7, #16]
 1019 0088 C6EE877A 		vdiv.f32	s15, s13, s14
 1020 008c C7ED077A 		vstr.32	s15, [r7, #28]
 161:Core/Src/queternion.c ****     ay /= norm;
 1021              		.loc 1 161 8
 1022 0090 D7ED066A 		vldr.32	s13, [r7, #24]
 1023 0094 97ED047A 		vldr.32	s14, [r7, #16]
 1024 0098 C6EE877A 		vdiv.f32	s15, s13, s14
 1025 009c C7ED067A 		vstr.32	s15, [r7, #24]
 162:Core/Src/queternion.c ****     az /= norm;
 1026              		.loc 1 162 8
 1027 00a0 D7ED056A 		vldr.32	s13, [r7, #20]
 1028 00a4 97ED047A 		vldr.32	s14, [r7, #16]
 1029 00a8 C6EE877A 		vdiv.f32	s15, s13, s14
 1030 00ac C7ED057A 		vstr.32	s15, [r7, #20]
 163:Core/Src/queternion.c **** 
 164:Core/Src/queternion.c ****     float half_z = sqrtf((1.0f + az) * 0.5f);
 1031              		.loc 1 164 32
 1032 00b0 D7ED057A 		vldr.32	s15, [r7, #20]
 1033 00b4 B7EE007A 		vmov.f32	s14, #1.0e+0
 1034 00b8 77EE877A 		vadd.f32	s15, s15, s14
 1035              		.loc 1 164 20
 1036 00bc B6EE007A 		vmov.f32	s14, #5.0e-1
 1037 00c0 67EE877A 		vmul.f32	s15, s15, s14
 1038 00c4 B0EE670A 		vmov.f32	s0, s15
 1039 00c8 FFF7FEFF 		bl	sqrtf
 1040 00cc 87ED030A 		vstr.32	s0, [r7, #12]
 165:Core/Src/queternion.c ****     float half_x = -ay / (2.0f * half_z);
 1041              		.loc 1 165 20
 1042 00d0 D7ED067A 		vldr.32	s15, [r7, #24]
 1043 00d4 F1EE676A 		vneg.f32	s13, s15
 1044              		.loc 1 165 32
 1045 00d8 D7ED037A 		vldr.32	s15, [r7, #12]
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 22


 1046 00dc 37EEA77A 		vadd.f32	s14, s15, s15
 1047              		.loc 1 165 11
 1048 00e0 C6EE877A 		vdiv.f32	s15, s13, s14
 1049 00e4 C7ED027A 		vstr.32	s15, [r7, #8]
 166:Core/Src/queternion.c ****     float half_y = ax / (2.0f * half_z);
 1050              		.loc 1 166 31
 1051 00e8 D7ED037A 		vldr.32	s15, [r7, #12]
 1052 00ec 37EEA77A 		vadd.f32	s14, s15, s15
 1053              		.loc 1 166 11
 1054 00f0 D7ED076A 		vldr.32	s13, [r7, #28]
 1055 00f4 C6EE877A 		vdiv.f32	s15, s13, s14
 1056 00f8 C7ED017A 		vstr.32	s15, [r7, #4]
 167:Core/Src/queternion.c **** 
 168:Core/Src/queternion.c ****     q[0] = half_z;
 1057              		.loc 1 168 10
 1058 00fc 3A4A     		ldr	r2, .L48+12
 1059 00fe FB68     		ldr	r3, [r7, #12]	@ float
 1060 0100 1360     		str	r3, [r2]	@ float
 169:Core/Src/queternion.c ****     q[1] = half_x;
 1061              		.loc 1 169 10
 1062 0102 394A     		ldr	r2, .L48+12
 1063 0104 BB68     		ldr	r3, [r7, #8]	@ float
 1064 0106 5360     		str	r3, [r2, #4]	@ float
 170:Core/Src/queternion.c ****     q[2] = half_y;
 1065              		.loc 1 170 10
 1066 0108 374A     		ldr	r2, .L48+12
 1067 010a 7B68     		ldr	r3, [r7, #4]	@ float
 1068 010c 9360     		str	r3, [r2, #8]	@ float
 171:Core/Src/queternion.c ****     q[3] = 0.0f;
 1069              		.loc 1 171 10
 1070 010e 364B     		ldr	r3, .L48+12
 1071 0110 4FF00002 		mov	r2, #0
 1072 0114 DA60     		str	r2, [r3, #12]	@ float
 172:Core/Src/queternion.c **** 
 173:Core/Src/queternion.c ****     float norm_q = sqrtf(q[0]*q[0] + q[1]*q[1] + q[2]*q[2] + q[3]*q[3]);
 1073              		.loc 1 173 27
 1074 0116 344B     		ldr	r3, .L48+12
 1075 0118 93ED007A 		vldr.32	s14, [r3]
 1076              		.loc 1 173 32
 1077 011c 324B     		ldr	r3, .L48+12
 1078 011e D3ED007A 		vldr.32	s15, [r3]
 1079              		.loc 1 173 30
 1080 0122 27EE277A 		vmul.f32	s14, s14, s15
 1081              		.loc 1 173 39
 1082 0126 304B     		ldr	r3, .L48+12
 1083 0128 D3ED016A 		vldr.32	s13, [r3, #4]
 1084              		.loc 1 173 44
 1085 012c 2E4B     		ldr	r3, .L48+12
 1086 012e D3ED017A 		vldr.32	s15, [r3, #4]
 1087              		.loc 1 173 42
 1088 0132 66EEA77A 		vmul.f32	s15, s13, s15
 1089              		.loc 1 173 36
 1090 0136 37EE277A 		vadd.f32	s14, s14, s15
 1091              		.loc 1 173 51
 1092 013a 2B4B     		ldr	r3, .L48+12
 1093 013c D3ED026A 		vldr.32	s13, [r3, #8]
 1094              		.loc 1 173 56
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 23


 1095 0140 294B     		ldr	r3, .L48+12
 1096 0142 D3ED027A 		vldr.32	s15, [r3, #8]
 1097              		.loc 1 173 54
 1098 0146 66EEA77A 		vmul.f32	s15, s13, s15
 1099              		.loc 1 173 48
 1100 014a 37EE277A 		vadd.f32	s14, s14, s15
 1101              		.loc 1 173 63
 1102 014e 264B     		ldr	r3, .L48+12
 1103 0150 D3ED036A 		vldr.32	s13, [r3, #12]
 1104              		.loc 1 173 68
 1105 0154 244B     		ldr	r3, .L48+12
 1106 0156 D3ED037A 		vldr.32	s15, [r3, #12]
 1107              		.loc 1 173 66
 1108 015a 66EEA77A 		vmul.f32	s15, s13, s15
 1109              		.loc 1 173 20
 1110 015e 77EE277A 		vadd.f32	s15, s14, s15
 1111 0162 B0EE670A 		vmov.f32	s0, s15
 1112 0166 FFF7FEFF 		bl	sqrtf
 1113 016a 87ED000A 		vstr.32	s0, [r7]
 174:Core/Src/queternion.c ****     if (norm_q > 1e-6f) {
 1114              		.loc 1 174 8
 1115 016e D7ED007A 		vldr.32	s15, [r7]
 1116 0172 9FED1C7A 		vldr.32	s14, .L48+8
 1117 0176 F4EEC77A 		vcmpe.f32	s15, s14
 1118 017a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1119 017e 29DD     		ble	.L41
 175:Core/Src/queternion.c ****         q[0] /= norm_q;
 1120              		.loc 1 175 10
 1121 0180 194B     		ldr	r3, .L48+12
 1122 0182 D3ED006A 		vldr.32	s13, [r3]
 1123              		.loc 1 175 14
 1124 0186 97ED007A 		vldr.32	s14, [r7]
 1125 018a C6EE877A 		vdiv.f32	s15, s13, s14
 1126 018e 164B     		ldr	r3, .L48+12
 1127 0190 C3ED007A 		vstr.32	s15, [r3]
 176:Core/Src/queternion.c ****         q[1] /= norm_q;
 1128              		.loc 1 176 10
 1129 0194 144B     		ldr	r3, .L48+12
 1130 0196 D3ED016A 		vldr.32	s13, [r3, #4]
 1131              		.loc 1 176 14
 1132 019a 97ED007A 		vldr.32	s14, [r7]
 1133 019e C6EE877A 		vdiv.f32	s15, s13, s14
 1134 01a2 114B     		ldr	r3, .L48+12
 1135 01a4 C3ED017A 		vstr.32	s15, [r3, #4]
 177:Core/Src/queternion.c ****         q[2] /= norm_q;
 1136              		.loc 1 177 10
 1137 01a8 0F4B     		ldr	r3, .L48+12
 1138 01aa D3ED026A 		vldr.32	s13, [r3, #8]
 1139              		.loc 1 177 14
 1140 01ae 97ED007A 		vldr.32	s14, [r7]
 1141 01b2 C6EE877A 		vdiv.f32	s15, s13, s14
 1142 01b6 0C4B     		ldr	r3, .L48+12
 1143 01b8 C3ED027A 		vstr.32	s15, [r3, #8]
 178:Core/Src/queternion.c ****         q[3] /= norm_q;
 1144              		.loc 1 178 10
 1145 01bc 0A4B     		ldr	r3, .L48+12
 1146 01be D3ED036A 		vldr.32	s13, [r3, #12]
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 24


 1147              		.loc 1 178 14
 1148 01c2 97ED007A 		vldr.32	s14, [r7]
 1149 01c6 C6EE877A 		vdiv.f32	s15, s13, s14
 1150 01ca 074B     		ldr	r3, .L48+12
 1151 01cc C3ED037A 		vstr.32	s15, [r3, #12]
 1152 01d0 00E0     		b	.L41
 1153              	.L47:
 158:Core/Src/queternion.c **** 
 1154              		.loc 1 158 23
 1155 01d2 00BF     		nop
 1156              	.L41:
 179:Core/Src/queternion.c ****     }
 180:Core/Src/queternion.c **** }
 1157              		.loc 1 180 1
 1158 01d4 2037     		adds	r7, r7, #32
 1159              		.cfi_def_cfa_offset 8
 1160 01d6 BD46     		mov	sp, r7
 1161              		.cfi_def_cfa_register 13
 1162              		@ sp needed
 1163 01d8 80BD     		pop	{r7, pc}
 1164              	.L49:
 1165 01da 00BF     		.align	2
 1166              	.L48:
 1167 01dc 00000000 		.word	BMI_sensor
 1168 01e0 0000C842 		.word	1120403456
 1169 01e4 BD378635 		.word	897988541
 1170 01e8 00000000 		.word	q
 1171              		.cfi_endproc
 1172              	.LFE245:
 1174              		.section	.text.MahonyAHRSupdateIMU,"ax",%progbits
 1175              		.align	1
 1176              		.global	MahonyAHRSupdateIMU
 1177              		.syntax unified
 1178              		.thumb
 1179              		.thumb_func
 1181              	MahonyAHRSupdateIMU:
 1182              	.LFB246:
 181:Core/Src/queternion.c **** 
 182:Core/Src/queternion.c **** void MahonyAHRSupdateIMU(float gx, float gy, float gz, float ax_f, float ay_f, float az_f, float dt
 1183              		.loc 1 182 102
 1184              		.cfi_startproc
 1185              		@ args = 0, pretend = 0, frame = 72
 1186              		@ frame_needed = 1, uses_anonymous_args = 0
 1187 0000 80B5     		push	{r7, lr}
 1188              		.cfi_def_cfa_offset 8
 1189              		.cfi_offset 7, -8
 1190              		.cfi_offset 14, -4
 1191 0002 92B0     		sub	sp, sp, #72
 1192              		.cfi_def_cfa_offset 80
 1193 0004 00AF     		add	r7, sp, #0
 1194              		.cfi_def_cfa_register 7
 1195 0006 87ED070A 		vstr.32	s0, [r7, #28]
 1196 000a C7ED060A 		vstr.32	s1, [r7, #24]
 1197 000e 87ED051A 		vstr.32	s2, [r7, #20]
 1198 0012 C7ED041A 		vstr.32	s3, [r7, #16]
 1199 0016 87ED032A 		vstr.32	s4, [r7, #12]
 1200 001a C7ED022A 		vstr.32	s5, [r7, #8]
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 25


 1201 001e 87ED013A 		vstr.32	s6, [r7, #4]
 183:Core/Src/queternion.c **** 	float recipNorm;
 184:Core/Src/queternion.c **** 	float halfvx, halfvy, halfvz;
 185:Core/Src/queternion.c **** 	float halfex, halfey, halfez;
 186:Core/Src/queternion.c **** 	float qa, qb, qc;
 187:Core/Src/queternion.c **** 
 188:Core/Src/queternion.c **** 	// Compute feedback only if accelerometer measurement valid (avoids NaN in accelerometer normalisa
 189:Core/Src/queternion.c **** 		if(!((ax_f == 0.0f) && (ay_f == 0.0f) && (az_f == 0.0f))) {
 1202              		.loc 1 189 5
 1203 0022 D7ED047A 		vldr.32	s15, [r7, #16]
 1204 0026 F5EE407A 		vcmp.f32	s15, #0
 1205 002a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1206 002e 0ED1     		bne	.L51
 1207              		.loc 1 189 23 discriminator 1
 1208 0030 D7ED037A 		vldr.32	s15, [r7, #12]
 1209 0034 F5EE407A 		vcmp.f32	s15, #0
 1210 0038 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1211 003c 07D1     		bne	.L51
 1212              		.loc 1 189 6 discriminator 2
 1213 003e D7ED027A 		vldr.32	s15, [r7, #8]
 1214 0042 F5EE407A 		vcmp.f32	s15, #0
 1215 0046 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1216 004a 00F03881 		beq	.L52
 1217              	.L51:
 190:Core/Src/queternion.c **** 
 191:Core/Src/queternion.c **** 		// Normalise accelerometer measurement
 192:Core/Src/queternion.c **** 		recipNorm = invSqrt(ax_f * ax_f + ay_f * ay_f + az_f * az_f);
 1218              		.loc 1 192 28
 1219 004e D7ED047A 		vldr.32	s15, [r7, #16]
 1220 0052 27EEA77A 		vmul.f32	s14, s15, s15
 1221              		.loc 1 192 42
 1222 0056 D7ED037A 		vldr.32	s15, [r7, #12]
 1223 005a 67EEA77A 		vmul.f32	s15, s15, s15
 1224              		.loc 1 192 35
 1225 005e 37EE277A 		vadd.f32	s14, s14, s15
 1226              		.loc 1 192 56
 1227 0062 D7ED027A 		vldr.32	s15, [r7, #8]
 1228 0066 67EEA77A 		vmul.f32	s15, s15, s15
 1229              		.loc 1 192 15
 1230 006a 77EE277A 		vadd.f32	s15, s14, s15
 1231 006e B0EE670A 		vmov.f32	s0, s15
 1232 0072 FFF7FEFF 		bl	invSqrt
 1233 0076 87ED110A 		vstr.32	s0, [r7, #68]
 193:Core/Src/queternion.c **** 		ax_f *= recipNorm;
 1234              		.loc 1 193 8
 1235 007a 97ED047A 		vldr.32	s14, [r7, #16]
 1236 007e D7ED117A 		vldr.32	s15, [r7, #68]
 1237 0082 67EE277A 		vmul.f32	s15, s14, s15
 1238 0086 C7ED047A 		vstr.32	s15, [r7, #16]
 194:Core/Src/queternion.c **** 		ay_f *= recipNorm;
 1239              		.loc 1 194 8
 1240 008a 97ED037A 		vldr.32	s14, [r7, #12]
 1241 008e D7ED117A 		vldr.32	s15, [r7, #68]
 1242 0092 67EE277A 		vmul.f32	s15, s14, s15
 1243 0096 C7ED037A 		vstr.32	s15, [r7, #12]
 195:Core/Src/queternion.c **** 		az_f *= recipNorm;
 1244              		.loc 1 195 8
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 26


 1245 009a 97ED027A 		vldr.32	s14, [r7, #8]
 1246 009e D7ED117A 		vldr.32	s15, [r7, #68]
 1247 00a2 67EE277A 		vmul.f32	s15, s14, s15
 1248 00a6 C7ED027A 		vstr.32	s15, [r7, #8]
 196:Core/Src/queternion.c **** 
 197:Core/Src/queternion.c **** 		// Estimated direction of gravity and vector perpendicular to magnetic flux
 198:Core/Src/queternion.c **** 		halfvx = q[1] * q[3] - q[0] * q[2];
 1249              		.loc 1 198 13
 1250 00aa 664B     		ldr	r3, .L58
 1251 00ac 93ED017A 		vldr.32	s14, [r3, #4]
 1252              		.loc 1 198 20
 1253 00b0 644B     		ldr	r3, .L58
 1254 00b2 D3ED037A 		vldr.32	s15, [r3, #12]
 1255              		.loc 1 198 17
 1256 00b6 27EE277A 		vmul.f32	s14, s14, s15
 1257              		.loc 1 198 27
 1258 00ba 624B     		ldr	r3, .L58
 1259 00bc D3ED006A 		vldr.32	s13, [r3]
 1260              		.loc 1 198 34
 1261 00c0 604B     		ldr	r3, .L58
 1262 00c2 D3ED027A 		vldr.32	s15, [r3, #8]
 1263              		.loc 1 198 31
 1264 00c6 66EEA77A 		vmul.f32	s15, s13, s15
 1265              		.loc 1 198 10
 1266 00ca 77EE677A 		vsub.f32	s15, s14, s15
 1267 00ce C7ED107A 		vstr.32	s15, [r7, #64]
 199:Core/Src/queternion.c **** 		halfvy = q[0] * q[1] + q[2] * q[3];
 1268              		.loc 1 199 13
 1269 00d2 5C4B     		ldr	r3, .L58
 1270 00d4 93ED007A 		vldr.32	s14, [r3]
 1271              		.loc 1 199 20
 1272 00d8 5A4B     		ldr	r3, .L58
 1273 00da D3ED017A 		vldr.32	s15, [r3, #4]
 1274              		.loc 1 199 17
 1275 00de 27EE277A 		vmul.f32	s14, s14, s15
 1276              		.loc 1 199 27
 1277 00e2 584B     		ldr	r3, .L58
 1278 00e4 D3ED026A 		vldr.32	s13, [r3, #8]
 1279              		.loc 1 199 34
 1280 00e8 564B     		ldr	r3, .L58
 1281 00ea D3ED037A 		vldr.32	s15, [r3, #12]
 1282              		.loc 1 199 31
 1283 00ee 66EEA77A 		vmul.f32	s15, s13, s15
 1284              		.loc 1 199 10
 1285 00f2 77EE277A 		vadd.f32	s15, s14, s15
 1286 00f6 C7ED0F7A 		vstr.32	s15, [r7, #60]
 200:Core/Src/queternion.c **** 		halfvz = q[0] * q[0] - 0.5f + q[3] * q[3];
 1287              		.loc 1 200 13
 1288 00fa 524B     		ldr	r3, .L58
 1289 00fc 93ED007A 		vldr.32	s14, [r3]
 1290              		.loc 1 200 20
 1291 0100 504B     		ldr	r3, .L58
 1292 0102 D3ED007A 		vldr.32	s15, [r3]
 1293              		.loc 1 200 17
 1294 0106 67EE277A 		vmul.f32	s15, s14, s15
 1295              		.loc 1 200 24
 1296 010a B6EE007A 		vmov.f32	s14, #5.0e-1
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 27


 1297 010e 37EEC77A 		vsub.f32	s14, s15, s14
 1298              		.loc 1 200 34
 1299 0112 4C4B     		ldr	r3, .L58
 1300 0114 D3ED036A 		vldr.32	s13, [r3, #12]
 1301              		.loc 1 200 41
 1302 0118 4A4B     		ldr	r3, .L58
 1303 011a D3ED037A 		vldr.32	s15, [r3, #12]
 1304              		.loc 1 200 38
 1305 011e 66EEA77A 		vmul.f32	s15, s13, s15
 1306              		.loc 1 200 10
 1307 0122 77EE277A 		vadd.f32	s15, s14, s15
 1308 0126 C7ED0E7A 		vstr.32	s15, [r7, #56]
 201:Core/Src/queternion.c **** 
 202:Core/Src/queternion.c **** 		// Error is sum of cross product between estimated and measured direction of gravity
 203:Core/Src/queternion.c **** 		halfex = (ay_f * halfvz - az_f * halfvy);
 1309              		.loc 1 203 18
 1310 012a 97ED037A 		vldr.32	s14, [r7, #12]
 1311 012e D7ED0E7A 		vldr.32	s15, [r7, #56]
 1312 0132 27EE277A 		vmul.f32	s14, s14, s15
 1313              		.loc 1 203 34
 1314 0136 D7ED026A 		vldr.32	s13, [r7, #8]
 1315 013a D7ED0F7A 		vldr.32	s15, [r7, #60]
 1316 013e 66EEA77A 		vmul.f32	s15, s13, s15
 1317              		.loc 1 203 10
 1318 0142 77EE677A 		vsub.f32	s15, s14, s15
 1319 0146 C7ED0D7A 		vstr.32	s15, [r7, #52]
 204:Core/Src/queternion.c **** 		halfey = (az_f * halfvx - ax_f * halfvz);
 1320              		.loc 1 204 18
 1321 014a 97ED027A 		vldr.32	s14, [r7, #8]
 1322 014e D7ED107A 		vldr.32	s15, [r7, #64]
 1323 0152 27EE277A 		vmul.f32	s14, s14, s15
 1324              		.loc 1 204 34
 1325 0156 D7ED046A 		vldr.32	s13, [r7, #16]
 1326 015a D7ED0E7A 		vldr.32	s15, [r7, #56]
 1327 015e 66EEA77A 		vmul.f32	s15, s13, s15
 1328              		.loc 1 204 10
 1329 0162 77EE677A 		vsub.f32	s15, s14, s15
 1330 0166 C7ED0C7A 		vstr.32	s15, [r7, #48]
 205:Core/Src/queternion.c **** 		halfez = (ax_f * halfvy - ay_f * halfvx);
 1331              		.loc 1 205 18
 1332 016a 97ED047A 		vldr.32	s14, [r7, #16]
 1333 016e D7ED0F7A 		vldr.32	s15, [r7, #60]
 1334 0172 27EE277A 		vmul.f32	s14, s14, s15
 1335              		.loc 1 205 34
 1336 0176 D7ED036A 		vldr.32	s13, [r7, #12]
 1337 017a D7ED107A 		vldr.32	s15, [r7, #64]
 1338 017e 66EEA77A 		vmul.f32	s15, s13, s15
 1339              		.loc 1 205 10
 1340 0182 77EE677A 		vsub.f32	s15, s14, s15
 1341 0186 C7ED0B7A 		vstr.32	s15, [r7, #44]
 206:Core/Src/queternion.c **** 
 207:Core/Src/queternion.c **** 		// Compute and apply integral feedback if enabled
 208:Core/Src/queternion.c **** 		if(twoKi > 0.0f) {
 1342              		.loc 1 208 12
 1343 018a 2F4B     		ldr	r3, .L58+4
 1344 018c D3ED007A 		vldr.32	s15, [r3]
 1345              		.loc 1 208 5
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 28


 1346 0190 F5EEC07A 		vcmpe.f32	s15, #0
 1347 0194 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1348 0198 5EDD     		ble	.L57
 209:Core/Src/queternion.c **** 			integralFBx += twoKi * halfex * dt;	// integral error scaled by Ki
 1349              		.loc 1 209 25
 1350 019a 2B4B     		ldr	r3, .L58+4
 1351 019c 93ED007A 		vldr.32	s14, [r3]
 1352 01a0 D7ED0D7A 		vldr.32	s15, [r7, #52]
 1353 01a4 27EE277A 		vmul.f32	s14, s14, s15
 1354              		.loc 1 209 34
 1355 01a8 D7ED017A 		vldr.32	s15, [r7, #4]
 1356 01ac 27EE277A 		vmul.f32	s14, s14, s15
 1357              		.loc 1 209 16
 1358 01b0 264B     		ldr	r3, .L58+8
 1359 01b2 D3ED007A 		vldr.32	s15, [r3]
 1360 01b6 77EE277A 		vadd.f32	s15, s14, s15
 1361 01ba 244B     		ldr	r3, .L58+8
 1362 01bc C3ED007A 		vstr.32	s15, [r3]
 210:Core/Src/queternion.c **** 			integralFBy += twoKi * halfey * dt;
 1363              		.loc 1 210 25
 1364 01c0 214B     		ldr	r3, .L58+4
 1365 01c2 93ED007A 		vldr.32	s14, [r3]
 1366 01c6 D7ED0C7A 		vldr.32	s15, [r7, #48]
 1367 01ca 27EE277A 		vmul.f32	s14, s14, s15
 1368              		.loc 1 210 34
 1369 01ce D7ED017A 		vldr.32	s15, [r7, #4]
 1370 01d2 27EE277A 		vmul.f32	s14, s14, s15
 1371              		.loc 1 210 16
 1372 01d6 1E4B     		ldr	r3, .L58+12
 1373 01d8 D3ED007A 		vldr.32	s15, [r3]
 1374 01dc 77EE277A 		vadd.f32	s15, s14, s15
 1375 01e0 1B4B     		ldr	r3, .L58+12
 1376 01e2 C3ED007A 		vstr.32	s15, [r3]
 211:Core/Src/queternion.c **** 			integralFBz += twoKi * halfez * dt;
 1377              		.loc 1 211 25
 1378 01e6 184B     		ldr	r3, .L58+4
 1379 01e8 93ED007A 		vldr.32	s14, [r3]
 1380 01ec D7ED0B7A 		vldr.32	s15, [r7, #44]
 1381 01f0 27EE277A 		vmul.f32	s14, s14, s15
 1382              		.loc 1 211 34
 1383 01f4 D7ED017A 		vldr.32	s15, [r7, #4]
 1384 01f8 27EE277A 		vmul.f32	s14, s14, s15
 1385              		.loc 1 211 16
 1386 01fc 154B     		ldr	r3, .L58+16
 1387 01fe D3ED007A 		vldr.32	s15, [r3]
 1388 0202 77EE277A 		vadd.f32	s15, s14, s15
 1389 0206 134B     		ldr	r3, .L58+16
 1390 0208 C3ED007A 		vstr.32	s15, [r3]
 212:Core/Src/queternion.c **** 			gx += integralFBx;	// apply integral feedback
 1391              		.loc 1 212 4
 1392 020c 0F4B     		ldr	r3, .L58+8
 1393 020e D3ED007A 		vldr.32	s15, [r3]
 1394              		.loc 1 212 7
 1395 0212 97ED077A 		vldr.32	s14, [r7, #28]
 1396 0216 77EE277A 		vadd.f32	s15, s14, s15
 1397 021a C7ED077A 		vstr.32	s15, [r7, #28]
 213:Core/Src/queternion.c **** 			gy += integralFBy;
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 29


 1398              		.loc 1 213 4
 1399 021e 0C4B     		ldr	r3, .L58+12
 1400 0220 D3ED007A 		vldr.32	s15, [r3]
 1401              		.loc 1 213 7
 1402 0224 97ED067A 		vldr.32	s14, [r7, #24]
 1403 0228 77EE277A 		vadd.f32	s15, s14, s15
 1404 022c C7ED067A 		vstr.32	s15, [r7, #24]
 214:Core/Src/queternion.c **** 			gz += integralFBz;
 1405              		.loc 1 214 4
 1406 0230 084B     		ldr	r3, .L58+16
 1407 0232 D3ED007A 		vldr.32	s15, [r3]
 1408              		.loc 1 214 7
 1409 0236 97ED057A 		vldr.32	s14, [r7, #20]
 1410 023a 77EE277A 		vadd.f32	s15, s14, s15
 1411 023e C7ED057A 		vstr.32	s15, [r7, #20]
 1412 0242 15E0     		b	.L55
 1413              	.L59:
 1414              		.align	2
 1415              	.L58:
 1416 0244 00000000 		.word	q
 1417 0248 00000000 		.word	twoKi
 1418 024c 00000000 		.word	integralFBx
 1419 0250 00000000 		.word	integralFBy
 1420 0254 00000000 		.word	integralFBz
 1421              	.L57:
 215:Core/Src/queternion.c **** 		}
 216:Core/Src/queternion.c **** 		else {
 217:Core/Src/queternion.c **** 			integralFBx = 0.0f;	// prevent integral windup
 1422              		.loc 1 217 16
 1423 0258 9A4B     		ldr	r3, .L60
 1424 025a 4FF00002 		mov	r2, #0
 1425 025e 1A60     		str	r2, [r3]	@ float
 218:Core/Src/queternion.c **** 			integralFBy = 0.0f;
 1426              		.loc 1 218 16
 1427 0260 994B     		ldr	r3, .L60+4
 1428 0262 4FF00002 		mov	r2, #0
 1429 0266 1A60     		str	r2, [r3]	@ float
 219:Core/Src/queternion.c **** 			integralFBz = 0.0f;
 1430              		.loc 1 219 16
 1431 0268 984B     		ldr	r3, .L60+8
 1432 026a 4FF00002 		mov	r2, #0
 1433 026e 1A60     		str	r2, [r3]	@ float
 1434              	.L55:
 220:Core/Src/queternion.c **** 		}
 221:Core/Src/queternion.c **** 
 222:Core/Src/queternion.c **** 		// Apply proportional feedback
 223:Core/Src/queternion.c **** 		gx += twoKp * halfex;
 1435              		.loc 1 223 15
 1436 0270 974B     		ldr	r3, .L60+12
 1437 0272 93ED007A 		vldr.32	s14, [r3]
 1438 0276 D7ED0D7A 		vldr.32	s15, [r7, #52]
 1439 027a 67EE277A 		vmul.f32	s15, s14, s15
 1440              		.loc 1 223 6
 1441 027e 97ED077A 		vldr.32	s14, [r7, #28]
 1442 0282 77EE277A 		vadd.f32	s15, s14, s15
 1443 0286 C7ED077A 		vstr.32	s15, [r7, #28]
 224:Core/Src/queternion.c **** 		gy += twoKp * halfey;
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 30


 1444              		.loc 1 224 15
 1445 028a 914B     		ldr	r3, .L60+12
 1446 028c 93ED007A 		vldr.32	s14, [r3]
 1447 0290 D7ED0C7A 		vldr.32	s15, [r7, #48]
 1448 0294 67EE277A 		vmul.f32	s15, s14, s15
 1449              		.loc 1 224 6
 1450 0298 97ED067A 		vldr.32	s14, [r7, #24]
 1451 029c 77EE277A 		vadd.f32	s15, s14, s15
 1452 02a0 C7ED067A 		vstr.32	s15, [r7, #24]
 225:Core/Src/queternion.c **** 		gz += twoKp * halfez;
 1453              		.loc 1 225 15
 1454 02a4 8A4B     		ldr	r3, .L60+12
 1455 02a6 93ED007A 		vldr.32	s14, [r3]
 1456 02aa D7ED0B7A 		vldr.32	s15, [r7, #44]
 1457 02ae 67EE277A 		vmul.f32	s15, s14, s15
 1458              		.loc 1 225 6
 1459 02b2 97ED057A 		vldr.32	s14, [r7, #20]
 1460 02b6 77EE277A 		vadd.f32	s15, s14, s15
 1461 02ba C7ED057A 		vstr.32	s15, [r7, #20]
 1462              	.L52:
 226:Core/Src/queternion.c **** 	}
 227:Core/Src/queternion.c **** 
 228:Core/Src/queternion.c **** 	// Integrate rate of change of quaternion
 229:Core/Src/queternion.c **** 	gx *= (0.5f * dt);		// pre-multiply common factors
 1463              		.loc 1 229 14
 1464 02be D7ED017A 		vldr.32	s15, [r7, #4]
 1465 02c2 B6EE007A 		vmov.f32	s14, #5.0e-1
 1466 02c6 67EE877A 		vmul.f32	s15, s15, s14
 1467              		.loc 1 229 5
 1468 02ca 97ED077A 		vldr.32	s14, [r7, #28]
 1469 02ce 67EE277A 		vmul.f32	s15, s14, s15
 1470 02d2 C7ED077A 		vstr.32	s15, [r7, #28]
 230:Core/Src/queternion.c **** 	gy *= (0.5f * dt);
 1471              		.loc 1 230 14
 1472 02d6 D7ED017A 		vldr.32	s15, [r7, #4]
 1473 02da B6EE007A 		vmov.f32	s14, #5.0e-1
 1474 02de 67EE877A 		vmul.f32	s15, s15, s14
 1475              		.loc 1 230 5
 1476 02e2 97ED067A 		vldr.32	s14, [r7, #24]
 1477 02e6 67EE277A 		vmul.f32	s15, s14, s15
 1478 02ea C7ED067A 		vstr.32	s15, [r7, #24]
 231:Core/Src/queternion.c **** 	gz *= (0.5f * dt);
 1479              		.loc 1 231 14
 1480 02ee D7ED017A 		vldr.32	s15, [r7, #4]
 1481 02f2 B6EE007A 		vmov.f32	s14, #5.0e-1
 1482 02f6 67EE877A 		vmul.f32	s15, s15, s14
 1483              		.loc 1 231 5
 1484 02fa 97ED057A 		vldr.32	s14, [r7, #20]
 1485 02fe 67EE277A 		vmul.f32	s15, s14, s15
 1486 0302 C7ED057A 		vstr.32	s15, [r7, #20]
 232:Core/Src/queternion.c **** 	qa = q[0];
 1487              		.loc 1 232 5
 1488 0306 734B     		ldr	r3, .L60+16
 1489 0308 1B68     		ldr	r3, [r3]	@ float
 1490 030a BB62     		str	r3, [r7, #40]	@ float
 233:Core/Src/queternion.c **** 	qb = q[1];
 1491              		.loc 1 233 5
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 31


 1492 030c 714B     		ldr	r3, .L60+16
 1493 030e 5B68     		ldr	r3, [r3, #4]	@ float
 1494 0310 7B62     		str	r3, [r7, #36]	@ float
 234:Core/Src/queternion.c **** 	qc = q[2];
 1495              		.loc 1 234 5
 1496 0312 704B     		ldr	r3, .L60+16
 1497 0314 9B68     		ldr	r3, [r3, #8]	@ float
 1498 0316 3B62     		str	r3, [r7, #32]	@ float
 235:Core/Src/queternion.c **** 	q[0] += (-qb * gx - qc * gy - q[3] * gz);
 1499              		.loc 1 235 3
 1500 0318 6E4B     		ldr	r3, .L60+16
 1501 031a 93ED007A 		vldr.32	s14, [r3]
 1502              		.loc 1 235 11
 1503 031e D7ED097A 		vldr.32	s15, [r7, #36]
 1504 0322 F1EE676A 		vneg.f32	s13, s15
 1505              		.loc 1 235 15
 1506 0326 D7ED077A 		vldr.32	s15, [r7, #28]
 1507 032a 66EEA76A 		vmul.f32	s13, s13, s15
 1508              		.loc 1 235 25
 1509 032e 97ED086A 		vldr.32	s12, [r7, #32]
 1510 0332 D7ED067A 		vldr.32	s15, [r7, #24]
 1511 0336 66EE277A 		vmul.f32	s15, s12, s15
 1512              		.loc 1 235 20
 1513 033a 76EEE76A 		vsub.f32	s13, s13, s15
 1514              		.loc 1 235 33
 1515 033e 654B     		ldr	r3, .L60+16
 1516 0340 93ED036A 		vldr.32	s12, [r3, #12]
 1517              		.loc 1 235 37
 1518 0344 D7ED057A 		vldr.32	s15, [r7, #20]
 1519 0348 66EE277A 		vmul.f32	s15, s12, s15
 1520              		.loc 1 235 30
 1521 034c 76EEE77A 		vsub.f32	s15, s13, s15
 1522              		.loc 1 235 7
 1523 0350 77EE277A 		vadd.f32	s15, s14, s15
 1524 0354 5F4B     		ldr	r3, .L60+16
 1525 0356 C3ED007A 		vstr.32	s15, [r3]
 236:Core/Src/queternion.c **** 	q[1] += (qa * gx + qc * gz - q[3] * gy);
 1526              		.loc 1 236 3
 1527 035a 5E4B     		ldr	r3, .L60+16
 1528 035c 93ED017A 		vldr.32	s14, [r3, #4]
 1529              		.loc 1 236 14
 1530 0360 D7ED0A6A 		vldr.32	s13, [r7, #40]
 1531 0364 D7ED077A 		vldr.32	s15, [r7, #28]
 1532 0368 66EEA76A 		vmul.f32	s13, s13, s15
 1533              		.loc 1 236 24
 1534 036c 97ED086A 		vldr.32	s12, [r7, #32]
 1535 0370 D7ED057A 		vldr.32	s15, [r7, #20]
 1536 0374 66EE277A 		vmul.f32	s15, s12, s15
 1537              		.loc 1 236 19
 1538 0378 76EEA76A 		vadd.f32	s13, s13, s15
 1539              		.loc 1 236 32
 1540 037c 554B     		ldr	r3, .L60+16
 1541 037e 93ED036A 		vldr.32	s12, [r3, #12]
 1542              		.loc 1 236 36
 1543 0382 D7ED067A 		vldr.32	s15, [r7, #24]
 1544 0386 66EE277A 		vmul.f32	s15, s12, s15
 1545              		.loc 1 236 29
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 32


 1546 038a 76EEE77A 		vsub.f32	s15, s13, s15
 1547              		.loc 1 236 7
 1548 038e 77EE277A 		vadd.f32	s15, s14, s15
 1549 0392 504B     		ldr	r3, .L60+16
 1550 0394 C3ED017A 		vstr.32	s15, [r3, #4]
 237:Core/Src/queternion.c **** 	q[2] += (qa * gy - qb * gz + q[3] * gx);
 1551              		.loc 1 237 3
 1552 0398 4E4B     		ldr	r3, .L60+16
 1553 039a 93ED027A 		vldr.32	s14, [r3, #8]
 1554              		.loc 1 237 14
 1555 039e D7ED0A6A 		vldr.32	s13, [r7, #40]
 1556 03a2 D7ED067A 		vldr.32	s15, [r7, #24]
 1557 03a6 66EEA76A 		vmul.f32	s13, s13, s15
 1558              		.loc 1 237 24
 1559 03aa 97ED096A 		vldr.32	s12, [r7, #36]
 1560 03ae D7ED057A 		vldr.32	s15, [r7, #20]
 1561 03b2 66EE277A 		vmul.f32	s15, s12, s15
 1562              		.loc 1 237 19
 1563 03b6 76EEE76A 		vsub.f32	s13, s13, s15
 1564              		.loc 1 237 32
 1565 03ba 464B     		ldr	r3, .L60+16
 1566 03bc 93ED036A 		vldr.32	s12, [r3, #12]
 1567              		.loc 1 237 36
 1568 03c0 D7ED077A 		vldr.32	s15, [r7, #28]
 1569 03c4 66EE277A 		vmul.f32	s15, s12, s15
 1570              		.loc 1 237 29
 1571 03c8 76EEA77A 		vadd.f32	s15, s13, s15
 1572              		.loc 1 237 7
 1573 03cc 77EE277A 		vadd.f32	s15, s14, s15
 1574 03d0 404B     		ldr	r3, .L60+16
 1575 03d2 C3ED027A 		vstr.32	s15, [r3, #8]
 238:Core/Src/queternion.c **** 	q[3] += (qa * gz + qb * gy - qc * gx);
 1576              		.loc 1 238 3
 1577 03d6 3F4B     		ldr	r3, .L60+16
 1578 03d8 93ED037A 		vldr.32	s14, [r3, #12]
 1579              		.loc 1 238 14
 1580 03dc D7ED0A6A 		vldr.32	s13, [r7, #40]
 1581 03e0 D7ED057A 		vldr.32	s15, [r7, #20]
 1582 03e4 66EEA76A 		vmul.f32	s13, s13, s15
 1583              		.loc 1 238 24
 1584 03e8 97ED096A 		vldr.32	s12, [r7, #36]
 1585 03ec D7ED067A 		vldr.32	s15, [r7, #24]
 1586 03f0 66EE277A 		vmul.f32	s15, s12, s15
 1587              		.loc 1 238 19
 1588 03f4 76EEA76A 		vadd.f32	s13, s13, s15
 1589              		.loc 1 238 34
 1590 03f8 97ED086A 		vldr.32	s12, [r7, #32]
 1591 03fc D7ED077A 		vldr.32	s15, [r7, #28]
 1592 0400 66EE277A 		vmul.f32	s15, s12, s15
 1593              		.loc 1 238 29
 1594 0404 76EEE77A 		vsub.f32	s15, s13, s15
 1595              		.loc 1 238 7
 1596 0408 77EE277A 		vadd.f32	s15, s14, s15
 1597 040c 314B     		ldr	r3, .L60+16
 1598 040e C3ED037A 		vstr.32	s15, [r3, #12]
 239:Core/Src/queternion.c **** 
 240:Core/Src/queternion.c **** 	// Normalise quaternion
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 33


 241:Core/Src/queternion.c **** 	recipNorm = invSqrt(q[0] * q[0] + q[1] * q[1] + q[2] * q[2] + q[3] * q[3]);
 1599              		.loc 1 241 23
 1600 0412 304B     		ldr	r3, .L60+16
 1601 0414 93ED007A 		vldr.32	s14, [r3]
 1602              		.loc 1 241 30
 1603 0418 2E4B     		ldr	r3, .L60+16
 1604 041a D3ED007A 		vldr.32	s15, [r3]
 1605              		.loc 1 241 27
 1606 041e 27EE277A 		vmul.f32	s14, s14, s15
 1607              		.loc 1 241 37
 1608 0422 2C4B     		ldr	r3, .L60+16
 1609 0424 D3ED016A 		vldr.32	s13, [r3, #4]
 1610              		.loc 1 241 44
 1611 0428 2A4B     		ldr	r3, .L60+16
 1612 042a D3ED017A 		vldr.32	s15, [r3, #4]
 1613              		.loc 1 241 41
 1614 042e 66EEA77A 		vmul.f32	s15, s13, s15
 1615              		.loc 1 241 34
 1616 0432 37EE277A 		vadd.f32	s14, s14, s15
 1617              		.loc 1 241 51
 1618 0436 274B     		ldr	r3, .L60+16
 1619 0438 D3ED026A 		vldr.32	s13, [r3, #8]
 1620              		.loc 1 241 58
 1621 043c 254B     		ldr	r3, .L60+16
 1622 043e D3ED027A 		vldr.32	s15, [r3, #8]
 1623              		.loc 1 241 55
 1624 0442 66EEA77A 		vmul.f32	s15, s13, s15
 1625              		.loc 1 241 48
 1626 0446 37EE277A 		vadd.f32	s14, s14, s15
 1627              		.loc 1 241 65
 1628 044a 224B     		ldr	r3, .L60+16
 1629 044c D3ED036A 		vldr.32	s13, [r3, #12]
 1630              		.loc 1 241 72
 1631 0450 204B     		ldr	r3, .L60+16
 1632 0452 D3ED037A 		vldr.32	s15, [r3, #12]
 1633              		.loc 1 241 69
 1634 0456 66EEA77A 		vmul.f32	s15, s13, s15
 1635              		.loc 1 241 14
 1636 045a 77EE277A 		vadd.f32	s15, s14, s15
 1637 045e B0EE670A 		vmov.f32	s0, s15
 1638 0462 FFF7FEFF 		bl	invSqrt
 1639 0466 87ED110A 		vstr.32	s0, [r7, #68]
 242:Core/Src/queternion.c **** 	q[0] *= recipNorm;
 1640              		.loc 1 242 3
 1641 046a 1A4B     		ldr	r3, .L60+16
 1642 046c 93ED007A 		vldr.32	s14, [r3]
 1643              		.loc 1 242 7
 1644 0470 D7ED117A 		vldr.32	s15, [r7, #68]
 1645 0474 67EE277A 		vmul.f32	s15, s14, s15
 1646 0478 164B     		ldr	r3, .L60+16
 1647 047a C3ED007A 		vstr.32	s15, [r3]
 243:Core/Src/queternion.c **** 	q[1] *= recipNorm;
 1648              		.loc 1 243 3
 1649 047e 154B     		ldr	r3, .L60+16
 1650 0480 93ED017A 		vldr.32	s14, [r3, #4]
 1651              		.loc 1 243 7
 1652 0484 D7ED117A 		vldr.32	s15, [r7, #68]
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 34


 1653 0488 67EE277A 		vmul.f32	s15, s14, s15
 1654 048c 114B     		ldr	r3, .L60+16
 1655 048e C3ED017A 		vstr.32	s15, [r3, #4]
 244:Core/Src/queternion.c **** 	q[2] *= recipNorm;
 1656              		.loc 1 244 3
 1657 0492 104B     		ldr	r3, .L60+16
 1658 0494 93ED027A 		vldr.32	s14, [r3, #8]
 1659              		.loc 1 244 7
 1660 0498 D7ED117A 		vldr.32	s15, [r7, #68]
 1661 049c 67EE277A 		vmul.f32	s15, s14, s15
 1662 04a0 0C4B     		ldr	r3, .L60+16
 1663 04a2 C3ED027A 		vstr.32	s15, [r3, #8]
 245:Core/Src/queternion.c **** 	q[3] *= recipNorm;
 1664              		.loc 1 245 3
 1665 04a6 0B4B     		ldr	r3, .L60+16
 1666 04a8 93ED037A 		vldr.32	s14, [r3, #12]
 1667              		.loc 1 245 7
 1668 04ac D7ED117A 		vldr.32	s15, [r7, #68]
 1669 04b0 67EE277A 		vmul.f32	s15, s14, s15
 1670 04b4 074B     		ldr	r3, .L60+16
 1671 04b6 C3ED037A 		vstr.32	s15, [r3, #12]
 246:Core/Src/queternion.c **** }
 1672              		.loc 1 246 1
 1673 04ba 00BF     		nop
 1674 04bc 4837     		adds	r7, r7, #72
 1675              		.cfi_def_cfa_offset 8
 1676 04be BD46     		mov	sp, r7
 1677              		.cfi_def_cfa_register 13
 1678              		@ sp needed
 1679 04c0 80BD     		pop	{r7, pc}
 1680              	.L61:
 1681 04c2 00BF     		.align	2
 1682              	.L60:
 1683 04c4 00000000 		.word	integralFBx
 1684 04c8 00000000 		.word	integralFBy
 1685 04cc 00000000 		.word	integralFBz
 1686 04d0 00000000 		.word	twoKp
 1687 04d4 00000000 		.word	q
 1688              		.cfi_endproc
 1689              	.LFE246:
 1691              		.section	.text.quaternionToThetaZ,"ax",%progbits
 1692              		.align	1
 1693              		.global	quaternionToThetaZ
 1694              		.syntax unified
 1695              		.thumb
 1696              		.thumb_func
 1698              	quaternionToThetaZ:
 1699              	.LFB247:
 247:Core/Src/queternion.c **** 
 248:Core/Src/queternion.c **** 
 249:Core/Src/queternion.c **** float quaternionToThetaZ() {
 1700              		.loc 1 249 28
 1701              		.cfi_startproc
 1702              		@ args = 0, pretend = 0, frame = 24
 1703              		@ frame_needed = 1, uses_anonymous_args = 0
 1704 0000 80B5     		push	{r7, lr}
 1705              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 35


 1706              		.cfi_offset 7, -8
 1707              		.cfi_offset 14, -4
 1708 0002 86B0     		sub	sp, sp, #24
 1709              		.cfi_def_cfa_offset 32
 1710 0004 00AF     		add	r7, sp, #0
 1711              		.cfi_def_cfa_register 7
 250:Core/Src/queternion.c ****     float r13 = 2 * q[1] * q[3] + 2 * q[2] * q[0];
 1712              		.loc 1 250 22
 1713 0006 444B     		ldr	r3, .L64
 1714 0008 D3ED017A 		vldr.32	s15, [r3, #4]
 1715              		.loc 1 250 19
 1716 000c 37EEA77A 		vadd.f32	s14, s15, s15
 1717              		.loc 1 250 29
 1718 0010 414B     		ldr	r3, .L64
 1719 0012 D3ED037A 		vldr.32	s15, [r3, #12]
 1720              		.loc 1 250 26
 1721 0016 27EE277A 		vmul.f32	s14, s14, s15
 1722              		.loc 1 250 40
 1723 001a 3F4B     		ldr	r3, .L64
 1724 001c D3ED027A 		vldr.32	s15, [r3, #8]
 1725              		.loc 1 250 37
 1726 0020 77EEA76A 		vadd.f32	s13, s15, s15
 1727              		.loc 1 250 47
 1728 0024 3C4B     		ldr	r3, .L64
 1729 0026 D3ED007A 		vldr.32	s15, [r3]
 1730              		.loc 1 250 44
 1731 002a 66EEA77A 		vmul.f32	s15, s13, s15
 1732              		.loc 1 250 11
 1733 002e 77EE277A 		vadd.f32	s15, s14, s15
 1734 0032 C7ED057A 		vstr.32	s15, [r7, #20]
 251:Core/Src/queternion.c ****     float r23 = 2 * q[2] * q[3] - 2 * q[1] * q[0];
 1735              		.loc 1 251 22
 1736 0036 384B     		ldr	r3, .L64
 1737 0038 D3ED027A 		vldr.32	s15, [r3, #8]
 1738              		.loc 1 251 19
 1739 003c 37EEA77A 		vadd.f32	s14, s15, s15
 1740              		.loc 1 251 29
 1741 0040 354B     		ldr	r3, .L64
 1742 0042 D3ED037A 		vldr.32	s15, [r3, #12]
 1743              		.loc 1 251 26
 1744 0046 27EE277A 		vmul.f32	s14, s14, s15
 1745              		.loc 1 251 40
 1746 004a 334B     		ldr	r3, .L64
 1747 004c D3ED017A 		vldr.32	s15, [r3, #4]
 1748              		.loc 1 251 37
 1749 0050 77EEA76A 		vadd.f32	s13, s15, s15
 1750              		.loc 1 251 47
 1751 0054 304B     		ldr	r3, .L64
 1752 0056 D3ED007A 		vldr.32	s15, [r3]
 1753              		.loc 1 251 44
 1754 005a 66EEA77A 		vmul.f32	s15, s13, s15
 1755              		.loc 1 251 11
 1756 005e 77EE677A 		vsub.f32	s15, s14, s15
 1757 0062 C7ED047A 		vstr.32	s15, [r7, #16]
 252:Core/Src/queternion.c ****     float r33 = 1 - 2 * q[1] * q[1] - 2 * q[2] * q[2];
 1758              		.loc 1 252 26
 1759 0066 2C4B     		ldr	r3, .L64
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 36


 1760 0068 D3ED017A 		vldr.32	s15, [r3, #4]
 1761              		.loc 1 252 23
 1762 006c 37EEA77A 		vadd.f32	s14, s15, s15
 1763              		.loc 1 252 33
 1764 0070 294B     		ldr	r3, .L64
 1765 0072 D3ED017A 		vldr.32	s15, [r3, #4]
 1766              		.loc 1 252 30
 1767 0076 67EE277A 		vmul.f32	s15, s14, s15
 1768              		.loc 1 252 19
 1769 007a B7EE007A 		vmov.f32	s14, #1.0e+0
 1770 007e 37EE677A 		vsub.f32	s14, s14, s15
 1771              		.loc 1 252 44
 1772 0082 254B     		ldr	r3, .L64
 1773 0084 D3ED027A 		vldr.32	s15, [r3, #8]
 1774              		.loc 1 252 41
 1775 0088 77EEA76A 		vadd.f32	s13, s15, s15
 1776              		.loc 1 252 51
 1777 008c 224B     		ldr	r3, .L64
 1778 008e D3ED027A 		vldr.32	s15, [r3, #8]
 1779              		.loc 1 252 48
 1780 0092 66EEA77A 		vmul.f32	s15, s13, s15
 1781              		.loc 1 252 11
 1782 0096 77EE677A 		vsub.f32	s15, s14, s15
 1783 009a C7ED037A 		vstr.32	s15, [r7, #12]
 253:Core/Src/queternion.c **** 
 254:Core/Src/queternion.c ****     float dotProduct = r33;
 1784              		.loc 1 254 11
 1785 009e FB68     		ldr	r3, [r7, #12]	@ float
 1786 00a0 BB60     		str	r3, [r7, #8]	@ float
 255:Core/Src/queternion.c ****     float magnitude = sqrtf(r13 * r13 + r23 * r23 + r33 * r33);
 1787              		.loc 1 255 33
 1788 00a2 D7ED057A 		vldr.32	s15, [r7, #20]
 1789 00a6 27EEA77A 		vmul.f32	s14, s15, s15
 1790              		.loc 1 255 45
 1791 00aa D7ED047A 		vldr.32	s15, [r7, #16]
 1792 00ae 67EEA77A 		vmul.f32	s15, s15, s15
 1793              		.loc 1 255 39
 1794 00b2 37EE277A 		vadd.f32	s14, s14, s15
 1795              		.loc 1 255 57
 1796 00b6 D7ED037A 		vldr.32	s15, [r7, #12]
 1797 00ba 67EEA77A 		vmul.f32	s15, s15, s15
 1798              		.loc 1 255 23
 1799 00be 77EE277A 		vadd.f32	s15, s14, s15
 1800 00c2 B0EE670A 		vmov.f32	s0, s15
 1801 00c6 FFF7FEFF 		bl	sqrtf
 1802 00ca 87ED010A 		vstr.32	s0, [r7, #4]
 256:Core/Src/queternion.c **** 
 257:Core/Src/queternion.c ****     float safeValue = fmaxf(-1.0f, fminf(1.0f, dotProduct / magnitude));
 1803              		.loc 1 257 23
 1804 00ce 97ED027A 		vldr.32	s14, [r7, #8]
 1805 00d2 D7ED017A 		vldr.32	s15, [r7, #4]
 1806 00d6 C7EE276A 		vdiv.f32	s13, s14, s15
 1807 00da F7EE000A 		vmov.f32	s1, #1.0e+0
 1808 00de B0EE660A 		vmov.f32	s0, s13
 1809 00e2 FFF7FEFF 		bl	fminf
 1810 00e6 F0EE407A 		vmov.f32	s15, s0
 1811 00ea FFEE000A 		vmov.f32	s1, #-1.0e+0
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 37


 1812 00ee B0EE670A 		vmov.f32	s0, s15
 1813 00f2 FFF7FEFF 		bl	fmaxf
 1814 00f6 87ED000A 		vstr.32	s0, [r7]
 258:Core/Src/queternion.c ****     return acosf(safeValue) * (180.0f / 3.14f);
 1815              		.loc 1 258 12
 1816 00fa 97ED000A 		vldr.32	s0, [r7]
 1817 00fe FFF7FEFF 		bl	acosf
 1818 0102 F0EE407A 		vmov.f32	s15, s0
 1819              		.loc 1 258 29
 1820 0106 9FED057A 		vldr.32	s14, .L64+4
 1821 010a 67EE877A 		vmul.f32	s15, s15, s14
 259:Core/Src/queternion.c **** }
 1822              		.loc 1 259 1
 1823 010e B0EE670A 		vmov.f32	s0, s15
 1824 0112 1837     		adds	r7, r7, #24
 1825              		.cfi_def_cfa_offset 8
 1826 0114 BD46     		mov	sp, r7
 1827              		.cfi_def_cfa_register 13
 1828              		@ sp needed
 1829 0116 80BD     		pop	{r7, pc}
 1830              	.L65:
 1831              		.align	2
 1832              	.L64:
 1833 0118 00000000 		.word	q
 1834 011c A34C6542 		.word	1113935011
 1835              		.cfi_endproc
 1836              	.LFE247:
 1838              		.section	.text.quaternionToYawDegree,"ax",%progbits
 1839              		.align	1
 1840              		.global	quaternionToYawDegree
 1841              		.syntax unified
 1842              		.thumb
 1843              		.thumb_func
 1845              	quaternionToYawDegree:
 1846              	.LFB248:
 260:Core/Src/queternion.c **** 
 261:Core/Src/queternion.c **** float quaternionToYawDegree() {
 1847              		.loc 1 261 31
 1848              		.cfi_startproc
 1849              		@ args = 0, pretend = 0, frame = 24
 1850              		@ frame_needed = 1, uses_anonymous_args = 0
 1851 0000 80B5     		push	{r7, lr}
 1852              		.cfi_def_cfa_offset 8
 1853              		.cfi_offset 7, -8
 1854              		.cfi_offset 14, -4
 1855 0002 86B0     		sub	sp, sp, #24
 1856              		.cfi_def_cfa_offset 32
 1857 0004 00AF     		add	r7, sp, #0
 1858              		.cfi_def_cfa_register 7
 262:Core/Src/queternion.c ****     float w = q[0], x = q[1], y = q[2], z = q[3];
 1859              		.loc 1 262 11
 1860 0006 204B     		ldr	r3, .L68
 1861 0008 1B68     		ldr	r3, [r3]	@ float
 1862 000a 7B61     		str	r3, [r7, #20]	@ float
 1863              		.loc 1 262 21
 1864 000c 1E4B     		ldr	r3, .L68
 1865 000e 5B68     		ldr	r3, [r3, #4]	@ float
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 38


 1866 0010 3B61     		str	r3, [r7, #16]	@ float
 1867              		.loc 1 262 31
 1868 0012 1D4B     		ldr	r3, .L68
 1869 0014 9B68     		ldr	r3, [r3, #8]	@ float
 1870 0016 FB60     		str	r3, [r7, #12]	@ float
 1871              		.loc 1 262 41
 1872 0018 1B4B     		ldr	r3, .L68
 1873 001a DB68     		ldr	r3, [r3, #12]	@ float
 1874 001c BB60     		str	r3, [r7, #8]	@ float
 263:Core/Src/queternion.c ****     float siny_cosp = 2.0f * (w * z + x * y);
 1875              		.loc 1 263 33
 1876 001e 97ED057A 		vldr.32	s14, [r7, #20]
 1877 0022 D7ED027A 		vldr.32	s15, [r7, #8]
 1878 0026 27EE277A 		vmul.f32	s14, s14, s15
 1879              		.loc 1 263 41
 1880 002a D7ED046A 		vldr.32	s13, [r7, #16]
 1881 002e D7ED037A 		vldr.32	s15, [r7, #12]
 1882 0032 66EEA77A 		vmul.f32	s15, s13, s15
 1883              		.loc 1 263 37
 1884 0036 77EE277A 		vadd.f32	s15, s14, s15
 1885              		.loc 1 263 11
 1886 003a 77EEA77A 		vadd.f32	s15, s15, s15
 1887 003e C7ED017A 		vstr.32	s15, [r7, #4]
 264:Core/Src/queternion.c ****     float cosy_cosp = 1.0f - 2.0f * (y * y + z * z);
 1888              		.loc 1 264 40
 1889 0042 D7ED037A 		vldr.32	s15, [r7, #12]
 1890 0046 27EEA77A 		vmul.f32	s14, s15, s15
 1891              		.loc 1 264 48
 1892 004a D7ED027A 		vldr.32	s15, [r7, #8]
 1893 004e 67EEA77A 		vmul.f32	s15, s15, s15
 1894              		.loc 1 264 44
 1895 0052 77EE277A 		vadd.f32	s15, s14, s15
 1896              		.loc 1 264 35
 1897 0056 77EEA77A 		vadd.f32	s15, s15, s15
 1898              		.loc 1 264 11
 1899 005a B7EE007A 		vmov.f32	s14, #1.0e+0
 1900 005e 77EE677A 		vsub.f32	s15, s14, s15
 1901 0062 C7ED007A 		vstr.32	s15, [r7]
 265:Core/Src/queternion.c ****     return atan2f(siny_cosp, cosy_cosp) * (180.0f / 3.14159265f);
 1902              		.loc 1 265 12
 1903 0066 D7ED000A 		vldr.32	s1, [r7]
 1904 006a 97ED010A 		vldr.32	s0, [r7, #4]
 1905 006e FFF7FEFF 		bl	atan2f
 1906 0072 F0EE407A 		vmov.f32	s15, s0
 1907              		.loc 1 265 41
 1908 0076 9FED057A 		vldr.32	s14, .L68+4
 1909 007a 67EE877A 		vmul.f32	s15, s15, s14
 266:Core/Src/queternion.c **** }
 1910              		.loc 1 266 1
 1911 007e B0EE670A 		vmov.f32	s0, s15
 1912 0082 1837     		adds	r7, r7, #24
 1913              		.cfi_def_cfa_offset 8
 1914 0084 BD46     		mov	sp, r7
 1915              		.cfi_def_cfa_register 13
 1916              		@ sp needed
 1917 0086 80BD     		pop	{r7, pc}
 1918              	.L69:
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 39


 1919              		.align	2
 1920              	.L68:
 1921 0088 00000000 		.word	q
 1922 008c E02E6542 		.word	1113927392
 1923              		.cfi_endproc
 1924              	.LFE248:
 1926              		.section	.text.quaternionToPitchDegree,"ax",%progbits
 1927              		.align	1
 1928              		.global	quaternionToPitchDegree
 1929              		.syntax unified
 1930              		.thumb
 1931              		.thumb_func
 1933              	quaternionToPitchDegree:
 1934              	.LFB249:
 267:Core/Src/queternion.c **** 
 268:Core/Src/queternion.c **** float quaternionToPitchDegree(){
 1935              		.loc 1 268 32
 1936              		.cfi_startproc
 1937              		@ args = 0, pretend = 0, frame = 24
 1938              		@ frame_needed = 1, uses_anonymous_args = 0
 1939 0000 80B5     		push	{r7, lr}
 1940              		.cfi_def_cfa_offset 8
 1941              		.cfi_offset 7, -8
 1942              		.cfi_offset 14, -4
 1943 0002 86B0     		sub	sp, sp, #24
 1944              		.cfi_def_cfa_offset 32
 1945 0004 00AF     		add	r7, sp, #0
 1946              		.cfi_def_cfa_register 7
 269:Core/Src/queternion.c ****     float w = q[0], x = q[1], y = q[2], z = q[3];
 1947              		.loc 1 269 11
 1948 0006 204B     		ldr	r3, .L72
 1949 0008 1B68     		ldr	r3, [r3]	@ float
 1950 000a 7B61     		str	r3, [r7, #20]	@ float
 1951              		.loc 1 269 21
 1952 000c 1E4B     		ldr	r3, .L72
 1953 000e 5B68     		ldr	r3, [r3, #4]	@ float
 1954 0010 3B61     		str	r3, [r7, #16]	@ float
 1955              		.loc 1 269 31
 1956 0012 1D4B     		ldr	r3, .L72
 1957 0014 9B68     		ldr	r3, [r3, #8]	@ float
 1958 0016 FB60     		str	r3, [r7, #12]	@ float
 1959              		.loc 1 269 41
 1960 0018 1B4B     		ldr	r3, .L72
 1961 001a DB68     		ldr	r3, [r3, #12]	@ float
 1962 001c BB60     		str	r3, [r7, #8]	@ float
 270:Core/Src/queternion.c ****     float sinp = 2.0f * (w * y - z * x);
 1963              		.loc 1 270 28
 1964 001e 97ED057A 		vldr.32	s14, [r7, #20]
 1965 0022 D7ED037A 		vldr.32	s15, [r7, #12]
 1966 0026 27EE277A 		vmul.f32	s14, s14, s15
 1967              		.loc 1 270 36
 1968 002a D7ED026A 		vldr.32	s13, [r7, #8]
 1969 002e D7ED047A 		vldr.32	s15, [r7, #16]
 1970 0032 66EEA77A 		vmul.f32	s15, s13, s15
 1971              		.loc 1 270 32
 1972 0036 77EE677A 		vsub.f32	s15, s14, s15
 1973              		.loc 1 270 11
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 40


 1974 003a 77EEA77A 		vadd.f32	s15, s15, s15
 1975 003e C7ED017A 		vstr.32	s15, [r7, #4]
 271:Core/Src/queternion.c ****     float cosp = 1.0f - 2.0f * (y * y + x * x);
 1976              		.loc 1 271 35
 1977 0042 D7ED037A 		vldr.32	s15, [r7, #12]
 1978 0046 27EEA77A 		vmul.f32	s14, s15, s15
 1979              		.loc 1 271 43
 1980 004a D7ED047A 		vldr.32	s15, [r7, #16]
 1981 004e 67EEA77A 		vmul.f32	s15, s15, s15
 1982              		.loc 1 271 39
 1983 0052 77EE277A 		vadd.f32	s15, s14, s15
 1984              		.loc 1 271 30
 1985 0056 77EEA77A 		vadd.f32	s15, s15, s15
 1986              		.loc 1 271 11
 1987 005a B7EE007A 		vmov.f32	s14, #1.0e+0
 1988 005e 77EE677A 		vsub.f32	s15, s14, s15
 1989 0062 C7ED007A 		vstr.32	s15, [r7]
 272:Core/Src/queternion.c ****     return atan2f(sinp, cosp) * (180.0f / 3.14159265f);
 1990              		.loc 1 272 12
 1991 0066 D7ED000A 		vldr.32	s1, [r7]
 1992 006a 97ED010A 		vldr.32	s0, [r7, #4]
 1993 006e FFF7FEFF 		bl	atan2f
 1994 0072 F0EE407A 		vmov.f32	s15, s0
 1995              		.loc 1 272 31
 1996 0076 9FED057A 		vldr.32	s14, .L72+4
 1997 007a 67EE877A 		vmul.f32	s15, s15, s14
 273:Core/Src/queternion.c **** }
 1998              		.loc 1 273 1
 1999 007e B0EE670A 		vmov.f32	s0, s15
 2000 0082 1837     		adds	r7, r7, #24
 2001              		.cfi_def_cfa_offset 8
 2002 0084 BD46     		mov	sp, r7
 2003              		.cfi_def_cfa_register 13
 2004              		@ sp needed
 2005 0086 80BD     		pop	{r7, pc}
 2006              	.L73:
 2007              		.align	2
 2008              	.L72:
 2009 0088 00000000 		.word	q
 2010 008c E02E6542 		.word	1113927392
 2011              		.cfi_endproc
 2012              	.LFE249:
 2014              		.section	.text.quaternionToRollDegree,"ax",%progbits
 2015              		.align	1
 2016              		.global	quaternionToRollDegree
 2017              		.syntax unified
 2018              		.thumb
 2019              		.thumb_func
 2021              	quaternionToRollDegree:
 2022              	.LFB250:
 274:Core/Src/queternion.c **** 
 275:Core/Src/queternion.c **** 
 276:Core/Src/queternion.c **** float quaternionToRollDegree(){
 2023              		.loc 1 276 31
 2024              		.cfi_startproc
 2025              		@ args = 0, pretend = 0, frame = 24
 2026              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 41


 2027 0000 80B5     		push	{r7, lr}
 2028              		.cfi_def_cfa_offset 8
 2029              		.cfi_offset 7, -8
 2030              		.cfi_offset 14, -4
 2031 0002 86B0     		sub	sp, sp, #24
 2032              		.cfi_def_cfa_offset 32
 2033 0004 00AF     		add	r7, sp, #0
 2034              		.cfi_def_cfa_register 7
 277:Core/Src/queternion.c ****     float w = q[0], x = q[1], y = q[2], z = q[3];
 2035              		.loc 1 277 11
 2036 0006 204B     		ldr	r3, .L76
 2037 0008 1B68     		ldr	r3, [r3]	@ float
 2038 000a 7B61     		str	r3, [r7, #20]	@ float
 2039              		.loc 1 277 21
 2040 000c 1E4B     		ldr	r3, .L76
 2041 000e 5B68     		ldr	r3, [r3, #4]	@ float
 2042 0010 3B61     		str	r3, [r7, #16]	@ float
 2043              		.loc 1 277 31
 2044 0012 1D4B     		ldr	r3, .L76
 2045 0014 9B68     		ldr	r3, [r3, #8]	@ float
 2046 0016 FB60     		str	r3, [r7, #12]	@ float
 2047              		.loc 1 277 41
 2048 0018 1B4B     		ldr	r3, .L76
 2049 001a DB68     		ldr	r3, [r3, #12]	@ float
 2050 001c BB60     		str	r3, [r7, #8]	@ float
 278:Core/Src/queternion.c ****     float sinr_cosp = 2.0f * (w * x + y * z);
 2051              		.loc 1 278 33
 2052 001e 97ED057A 		vldr.32	s14, [r7, #20]
 2053 0022 D7ED047A 		vldr.32	s15, [r7, #16]
 2054 0026 27EE277A 		vmul.f32	s14, s14, s15
 2055              		.loc 1 278 41
 2056 002a D7ED036A 		vldr.32	s13, [r7, #12]
 2057 002e D7ED027A 		vldr.32	s15, [r7, #8]
 2058 0032 66EEA77A 		vmul.f32	s15, s13, s15
 2059              		.loc 1 278 37
 2060 0036 77EE277A 		vadd.f32	s15, s14, s15
 2061              		.loc 1 278 11
 2062 003a 77EEA77A 		vadd.f32	s15, s15, s15
 2063 003e C7ED017A 		vstr.32	s15, [r7, #4]
 279:Core/Src/queternion.c ****     float cosr_cosp = 1.0f - 2.0f * (x * x + y * y);
 2064              		.loc 1 279 40
 2065 0042 D7ED047A 		vldr.32	s15, [r7, #16]
 2066 0046 27EEA77A 		vmul.f32	s14, s15, s15
 2067              		.loc 1 279 48
 2068 004a D7ED037A 		vldr.32	s15, [r7, #12]
 2069 004e 67EEA77A 		vmul.f32	s15, s15, s15
 2070              		.loc 1 279 44
 2071 0052 77EE277A 		vadd.f32	s15, s14, s15
 2072              		.loc 1 279 35
 2073 0056 77EEA77A 		vadd.f32	s15, s15, s15
 2074              		.loc 1 279 11
 2075 005a B7EE007A 		vmov.f32	s14, #1.0e+0
 2076 005e 77EE677A 		vsub.f32	s15, s14, s15
 2077 0062 C7ED007A 		vstr.32	s15, [r7]
 280:Core/Src/queternion.c ****     return atan2f(sinr_cosp, cosr_cosp) * (180.0f / 3.14159265f);
 2078              		.loc 1 280 12
 2079 0066 D7ED000A 		vldr.32	s1, [r7]
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 42


 2080 006a 97ED010A 		vldr.32	s0, [r7, #4]
 2081 006e FFF7FEFF 		bl	atan2f
 2082 0072 F0EE407A 		vmov.f32	s15, s0
 2083              		.loc 1 280 41
 2084 0076 9FED057A 		vldr.32	s14, .L76+4
 2085 007a 67EE877A 		vmul.f32	s15, s15, s14
 281:Core/Src/queternion.c **** }
 2086              		.loc 1 281 1
 2087 007e B0EE670A 		vmov.f32	s0, s15
 2088 0082 1837     		adds	r7, r7, #24
 2089              		.cfi_def_cfa_offset 8
 2090 0084 BD46     		mov	sp, r7
 2091              		.cfi_def_cfa_register 13
 2092              		@ sp needed
 2093 0086 80BD     		pop	{r7, pc}
 2094              	.L77:
 2095              		.align	2
 2096              	.L76:
 2097 0088 00000000 		.word	q
 2098 008c E02E6542 		.word	1113927392
 2099              		.cfi_endproc
 2100              	.LFE250:
 2102              		.section	.text.quaternionToYaw,"ax",%progbits
 2103              		.align	1
 2104              		.global	quaternionToYaw
 2105              		.syntax unified
 2106              		.thumb
 2107              		.thumb_func
 2109              	quaternionToYaw:
 2110              	.LFB251:
 282:Core/Src/queternion.c **** 
 283:Core/Src/queternion.c **** 
 284:Core/Src/queternion.c **** float quaternionToYaw(){
 2111              		.loc 1 284 24
 2112              		.cfi_startproc
 2113              		@ args = 0, pretend = 0, frame = 8
 2114              		@ frame_needed = 1, uses_anonymous_args = 0
 2115 0000 80B5     		push	{r7, lr}
 2116              		.cfi_def_cfa_offset 8
 2117              		.cfi_offset 7, -8
 2118              		.cfi_offset 14, -4
 2119 0002 82B0     		sub	sp, sp, #8
 2120              		.cfi_def_cfa_offset 16
 2121 0004 00AF     		add	r7, sp, #0
 2122              		.cfi_def_cfa_register 7
 285:Core/Src/queternion.c **** float yaw = atan2f(2.0f*(q[1]*q[2] + q[0]*q[3]), q[0]*q[0] + q[1]*q[1] - q[2]*q[2] - q[3]*q[3]) * 1
 2123              		.loc 1 285 27
 2124 0006 2A4B     		ldr	r3, .L80
 2125 0008 93ED017A 		vldr.32	s14, [r3, #4]
 2126              		.loc 1 285 32
 2127 000c 284B     		ldr	r3, .L80
 2128 000e D3ED027A 		vldr.32	s15, [r3, #8]
 2129              		.loc 1 285 30
 2130 0012 27EE277A 		vmul.f32	s14, s14, s15
 2131              		.loc 1 285 39
 2132 0016 264B     		ldr	r3, .L80
 2133 0018 D3ED006A 		vldr.32	s13, [r3]
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 43


 2134              		.loc 1 285 44
 2135 001c 244B     		ldr	r3, .L80
 2136 001e D3ED037A 		vldr.32	s15, [r3, #12]
 2137              		.loc 1 285 42
 2138 0022 66EEA77A 		vmul.f32	s15, s13, s15
 2139              		.loc 1 285 36
 2140 0026 77EE277A 		vadd.f32	s15, s14, s15
 2141              		.loc 1 285 13
 2142 002a 37EEA76A 		vadd.f32	s12, s15, s15
 2143              		.loc 1 285 51
 2144 002e 204B     		ldr	r3, .L80
 2145 0030 93ED007A 		vldr.32	s14, [r3]
 2146              		.loc 1 285 56
 2147 0034 1E4B     		ldr	r3, .L80
 2148 0036 D3ED007A 		vldr.32	s15, [r3]
 2149              		.loc 1 285 54
 2150 003a 27EE277A 		vmul.f32	s14, s14, s15
 2151              		.loc 1 285 63
 2152 003e 1C4B     		ldr	r3, .L80
 2153 0040 D3ED016A 		vldr.32	s13, [r3, #4]
 2154              		.loc 1 285 68
 2155 0044 1A4B     		ldr	r3, .L80
 2156 0046 D3ED017A 		vldr.32	s15, [r3, #4]
 2157              		.loc 1 285 66
 2158 004a 66EEA77A 		vmul.f32	s15, s13, s15
 2159              		.loc 1 285 60
 2160 004e 37EE277A 		vadd.f32	s14, s14, s15
 2161              		.loc 1 285 75
 2162 0052 174B     		ldr	r3, .L80
 2163 0054 D3ED026A 		vldr.32	s13, [r3, #8]
 2164              		.loc 1 285 80
 2165 0058 154B     		ldr	r3, .L80
 2166 005a D3ED027A 		vldr.32	s15, [r3, #8]
 2167              		.loc 1 285 78
 2168 005e 66EEA77A 		vmul.f32	s15, s13, s15
 2169              		.loc 1 285 72
 2170 0062 37EE677A 		vsub.f32	s14, s14, s15
 2171              		.loc 1 285 87
 2172 0066 124B     		ldr	r3, .L80
 2173 0068 D3ED036A 		vldr.32	s13, [r3, #12]
 2174              		.loc 1 285 92
 2175 006c 104B     		ldr	r3, .L80
 2176 006e D3ED037A 		vldr.32	s15, [r3, #12]
 2177              		.loc 1 285 90
 2178 0072 66EEA77A 		vmul.f32	s15, s13, s15
 2179              		.loc 1 285 13
 2180 0076 77EE677A 		vsub.f32	s15, s14, s15
 2181 007a F0EE670A 		vmov.f32	s1, s15
 2182 007e B0EE460A 		vmov.f32	s0, s12
 2183 0082 FFF7FEFF 		bl	atan2f
 2184 0086 F0EE407A 		vmov.f32	s15, s0
 2185              		.loc 1 285 97
 2186 008a 9FED0A7A 		vldr.32	s14, .L80+4
 2187 008e 27EE877A 		vmul.f32	s14, s15, s14
 2188              		.loc 1 285 7
 2189 0092 DFED096A 		vldr.32	s13, .L80+8
 2190 0096 C7EE267A 		vdiv.f32	s15, s14, s13
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 44


 2191 009a C7ED017A 		vstr.32	s15, [r7, #4]
 286:Core/Src/queternion.c **** return yaw;
 2192              		.loc 1 286 8
 2193 009e 7B68     		ldr	r3, [r7, #4]	@ float
 2194 00a0 07EE903A 		vmov	s15, r3
 287:Core/Src/queternion.c **** }
 2195              		.loc 1 287 1
 2196 00a4 B0EE670A 		vmov.f32	s0, s15
 2197 00a8 0837     		adds	r7, r7, #8
 2198              		.cfi_def_cfa_offset 8
 2199 00aa BD46     		mov	sp, r7
 2200              		.cfi_def_cfa_register 13
 2201              		@ sp needed
 2202 00ac 80BD     		pop	{r7, pc}
 2203              	.L81:
 2204 00ae 00BF     		.align	2
 2205              	.L80:
 2206 00b0 00000000 		.word	q
 2207 00b4 00003443 		.word	1127481344
 2208 00b8 D00F4940 		.word	1078530000
 2209              		.cfi_endproc
 2210              	.LFE251:
 2212              		.section	.text.quaternionToPitch,"ax",%progbits
 2213              		.align	1
 2214              		.global	quaternionToPitch
 2215              		.syntax unified
 2216              		.thumb
 2217              		.thumb_func
 2219              	quaternionToPitch:
 2220              	.LFB252:
 288:Core/Src/queternion.c **** 
 289:Core/Src/queternion.c **** float quaternionToPitch(){
 2221              		.loc 1 289 26
 2222              		.cfi_startproc
 2223              		@ args = 0, pretend = 0, frame = 8
 2224              		@ frame_needed = 1, uses_anonymous_args = 0
 2225 0000 80B5     		push	{r7, lr}
 2226              		.cfi_def_cfa_offset 8
 2227              		.cfi_offset 7, -8
 2228              		.cfi_offset 14, -4
 2229 0002 82B0     		sub	sp, sp, #8
 2230              		.cfi_def_cfa_offset 16
 2231 0004 00AF     		add	r7, sp, #0
 2232              		.cfi_def_cfa_register 7
 290:Core/Src/queternion.c **** float pitch = -asinf(2.0f*(q[1]*q[3] - q[0]*q[2])) * 180.0f / 3.14159f;
 2233              		.loc 1 290 29
 2234 0006 174B     		ldr	r3, .L84
 2235 0008 93ED017A 		vldr.32	s14, [r3, #4]
 2236              		.loc 1 290 34
 2237 000c 154B     		ldr	r3, .L84
 2238 000e D3ED037A 		vldr.32	s15, [r3, #12]
 2239              		.loc 1 290 32
 2240 0012 27EE277A 		vmul.f32	s14, s14, s15
 2241              		.loc 1 290 41
 2242 0016 134B     		ldr	r3, .L84
 2243 0018 D3ED006A 		vldr.32	s13, [r3]
 2244              		.loc 1 290 46
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 45


 2245 001c 114B     		ldr	r3, .L84
 2246 001e D3ED027A 		vldr.32	s15, [r3, #8]
 2247              		.loc 1 290 44
 2248 0022 66EEA77A 		vmul.f32	s15, s13, s15
 2249              		.loc 1 290 38
 2250 0026 77EE677A 		vsub.f32	s15, s14, s15
 2251              		.loc 1 290 16
 2252 002a 77EEA77A 		vadd.f32	s15, s15, s15
 2253 002e B0EE670A 		vmov.f32	s0, s15
 2254 0032 FFF7FEFF 		bl	asinf
 2255 0036 F0EE407A 		vmov.f32	s15, s0
 2256              		.loc 1 290 15
 2257 003a F1EE677A 		vneg.f32	s15, s15
 2258              		.loc 1 290 52
 2259 003e 9FED0A7A 		vldr.32	s14, .L84+4
 2260 0042 27EE877A 		vmul.f32	s14, s15, s14
 2261              		.loc 1 290 7
 2262 0046 DFED096A 		vldr.32	s13, .L84+8
 2263 004a C7EE267A 		vdiv.f32	s15, s14, s13
 2264 004e C7ED017A 		vstr.32	s15, [r7, #4]
 291:Core/Src/queternion.c **** return pitch;
 2265              		.loc 1 291 8
 2266 0052 7B68     		ldr	r3, [r7, #4]	@ float
 2267 0054 07EE903A 		vmov	s15, r3
 292:Core/Src/queternion.c **** }
 2268              		.loc 1 292 1
 2269 0058 B0EE670A 		vmov.f32	s0, s15
 2270 005c 0837     		adds	r7, r7, #8
 2271              		.cfi_def_cfa_offset 8
 2272 005e BD46     		mov	sp, r7
 2273              		.cfi_def_cfa_register 13
 2274              		@ sp needed
 2275 0060 80BD     		pop	{r7, pc}
 2276              	.L85:
 2277 0062 00BF     		.align	2
 2278              	.L84:
 2279 0064 00000000 		.word	q
 2280 0068 00003443 		.word	1127481344
 2281 006c D00F4940 		.word	1078530000
 2282              		.cfi_endproc
 2283              	.LFE252:
 2285              		.section	.text.quaternionToRoll,"ax",%progbits
 2286              		.align	1
 2287              		.global	quaternionToRoll
 2288              		.syntax unified
 2289              		.thumb
 2290              		.thumb_func
 2292              	quaternionToRoll:
 2293              	.LFB253:
 293:Core/Src/queternion.c **** 
 294:Core/Src/queternion.c **** float quaternionToRoll(){
 2294              		.loc 1 294 25
 2295              		.cfi_startproc
 2296              		@ args = 0, pretend = 0, frame = 8
 2297              		@ frame_needed = 1, uses_anonymous_args = 0
 2298 0000 80B5     		push	{r7, lr}
 2299              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 46


 2300              		.cfi_offset 7, -8
 2301              		.cfi_offset 14, -4
 2302 0002 82B0     		sub	sp, sp, #8
 2303              		.cfi_def_cfa_offset 16
 2304 0004 00AF     		add	r7, sp, #0
 2305              		.cfi_def_cfa_register 7
 295:Core/Src/queternion.c **** float roll = atan2f(2.0f*(q[0]*q[1] + q[2]*q[3]), q[0]*q[0] - q[1]*q[1] - q[2]*q[2] + q[3]*q[3]) * 
 2306              		.loc 1 295 28
 2307 0006 2A4B     		ldr	r3, .L88
 2308 0008 93ED007A 		vldr.32	s14, [r3]
 2309              		.loc 1 295 33
 2310 000c 284B     		ldr	r3, .L88
 2311 000e D3ED017A 		vldr.32	s15, [r3, #4]
 2312              		.loc 1 295 31
 2313 0012 27EE277A 		vmul.f32	s14, s14, s15
 2314              		.loc 1 295 40
 2315 0016 264B     		ldr	r3, .L88
 2316 0018 D3ED026A 		vldr.32	s13, [r3, #8]
 2317              		.loc 1 295 45
 2318 001c 244B     		ldr	r3, .L88
 2319 001e D3ED037A 		vldr.32	s15, [r3, #12]
 2320              		.loc 1 295 43
 2321 0022 66EEA77A 		vmul.f32	s15, s13, s15
 2322              		.loc 1 295 37
 2323 0026 77EE277A 		vadd.f32	s15, s14, s15
 2324              		.loc 1 295 14
 2325 002a 37EEA76A 		vadd.f32	s12, s15, s15
 2326              		.loc 1 295 52
 2327 002e 204B     		ldr	r3, .L88
 2328 0030 93ED007A 		vldr.32	s14, [r3]
 2329              		.loc 1 295 57
 2330 0034 1E4B     		ldr	r3, .L88
 2331 0036 D3ED007A 		vldr.32	s15, [r3]
 2332              		.loc 1 295 55
 2333 003a 27EE277A 		vmul.f32	s14, s14, s15
 2334              		.loc 1 295 64
 2335 003e 1C4B     		ldr	r3, .L88
 2336 0040 D3ED016A 		vldr.32	s13, [r3, #4]
 2337              		.loc 1 295 69
 2338 0044 1A4B     		ldr	r3, .L88
 2339 0046 D3ED017A 		vldr.32	s15, [r3, #4]
 2340              		.loc 1 295 67
 2341 004a 66EEA77A 		vmul.f32	s15, s13, s15
 2342              		.loc 1 295 61
 2343 004e 37EE677A 		vsub.f32	s14, s14, s15
 2344              		.loc 1 295 76
 2345 0052 174B     		ldr	r3, .L88
 2346 0054 D3ED026A 		vldr.32	s13, [r3, #8]
 2347              		.loc 1 295 81
 2348 0058 154B     		ldr	r3, .L88
 2349 005a D3ED027A 		vldr.32	s15, [r3, #8]
 2350              		.loc 1 295 79
 2351 005e 66EEA77A 		vmul.f32	s15, s13, s15
 2352              		.loc 1 295 73
 2353 0062 37EE677A 		vsub.f32	s14, s14, s15
 2354              		.loc 1 295 88
 2355 0066 124B     		ldr	r3, .L88
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 47


 2356 0068 D3ED036A 		vldr.32	s13, [r3, #12]
 2357              		.loc 1 295 93
 2358 006c 104B     		ldr	r3, .L88
 2359 006e D3ED037A 		vldr.32	s15, [r3, #12]
 2360              		.loc 1 295 91
 2361 0072 66EEA77A 		vmul.f32	s15, s13, s15
 2362              		.loc 1 295 14
 2363 0076 77EE277A 		vadd.f32	s15, s14, s15
 2364 007a F0EE670A 		vmov.f32	s1, s15
 2365 007e B0EE460A 		vmov.f32	s0, s12
 2366 0082 FFF7FEFF 		bl	atan2f
 2367 0086 F0EE407A 		vmov.f32	s15, s0
 2368              		.loc 1 295 98
 2369 008a 9FED0A7A 		vldr.32	s14, .L88+4
 2370 008e 27EE877A 		vmul.f32	s14, s15, s14
 2371              		.loc 1 295 7
 2372 0092 DFED096A 		vldr.32	s13, .L88+8
 2373 0096 C7EE267A 		vdiv.f32	s15, s14, s13
 2374 009a C7ED017A 		vstr.32	s15, [r7, #4]
 296:Core/Src/queternion.c **** return roll;
 2375              		.loc 1 296 8
 2376 009e 7B68     		ldr	r3, [r7, #4]	@ float
 2377 00a0 07EE903A 		vmov	s15, r3
 297:Core/Src/queternion.c **** }
 2378              		.loc 1 297 1
 2379 00a4 B0EE670A 		vmov.f32	s0, s15
 2380 00a8 0837     		adds	r7, r7, #8
 2381              		.cfi_def_cfa_offset 8
 2382 00aa BD46     		mov	sp, r7
 2383              		.cfi_def_cfa_register 13
 2384              		@ sp needed
 2385 00ac 80BD     		pop	{r7, pc}
 2386              	.L89:
 2387 00ae 00BF     		.align	2
 2388              	.L88:
 2389 00b0 00000000 		.word	q
 2390 00b4 00003443 		.word	1127481344
 2391 00b8 D00F4940 		.word	1078530000
 2392              		.cfi_endproc
 2393              	.LFE253:
 2395              		.global	__aeabi_f2d
 2396              		.global	__aeabi_ddiv
 2397              		.global	__aeabi_dsub
 2398              		.global	__aeabi_dmul
 2399              		.global	__aeabi_dadd
 2400              		.global	__aeabi_d2f
 2401              		.section	.text.getInitialQuaternion,"ax",%progbits
 2402              		.align	1
 2403              		.global	getInitialQuaternion
 2404              		.syntax unified
 2405              		.thumb
 2406              		.thumb_func
 2408              	getInitialQuaternion:
 2409              	.LFB254:
 298:Core/Src/queternion.c **** 
 299:Core/Src/queternion.c **** void getInitialQuaternion() {
 2410              		.loc 1 299 29
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 48


 2411              		.cfi_startproc
 2412              		@ args = 0, pretend = 0, frame = 72
 2413              		@ frame_needed = 1, uses_anonymous_args = 0
 2414 0000 B0B5     		push	{r4, r5, r7, lr}
 2415              		.cfi_def_cfa_offset 16
 2416              		.cfi_offset 4, -16
 2417              		.cfi_offset 5, -12
 2418              		.cfi_offset 7, -8
 2419              		.cfi_offset 14, -4
 2420 0002 92B0     		sub	sp, sp, #72
 2421              		.cfi_def_cfa_offset 88
 2422 0004 00AF     		add	r7, sp, #0
 2423              		.cfi_def_cfa_register 7
 300:Core/Src/queternion.c **** 
 301:Core/Src/queternion.c ****     double norm = sqrt(BMI_sensor.datas.acc_z * BMI_sensor.datas.acc_z + BMI_sensor.datas.acc_x * B
 2424              		.loc 1 301 40
 2425 0006 984B     		ldr	r3, .L91
 2426 0008 93ED197A 		vldr.32	s14, [r3, #100]
 2427              		.loc 1 301 65
 2428 000c 964B     		ldr	r3, .L91
 2429 000e D3ED197A 		vldr.32	s15, [r3, #100]
 2430              		.loc 1 301 47
 2431 0012 27EE277A 		vmul.f32	s14, s14, s15
 2432              		.loc 1 301 90
 2433 0016 944B     		ldr	r3, .L91
 2434 0018 D3ED176A 		vldr.32	s13, [r3, #92]
 2435              		.loc 1 301 115
 2436 001c 924B     		ldr	r3, .L91
 2437 001e D3ED177A 		vldr.32	s15, [r3, #92]
 2438              		.loc 1 301 97
 2439 0022 66EEA77A 		vmul.f32	s15, s13, s15
 2440              		.loc 1 301 72
 2441 0026 37EE277A 		vadd.f32	s14, s14, s15
 2442              		.loc 1 301 140
 2443 002a 8F4B     		ldr	r3, .L91
 2444 002c D3ED186A 		vldr.32	s13, [r3, #96]
 2445              		.loc 1 301 165
 2446 0030 8D4B     		ldr	r3, .L91
 2447 0032 D3ED187A 		vldr.32	s15, [r3, #96]
 2448              		.loc 1 301 147
 2449 0036 66EEA77A 		vmul.f32	s15, s13, s15
 2450              		.loc 1 301 122
 2451 003a 77EE277A 		vadd.f32	s15, s14, s15
 2452              		.loc 1 301 19
 2453 003e 17EE900A 		vmov	r0, s15
 2454 0042 FFF7FEFF 		bl	__aeabi_f2d
 2455 0046 0246     		mov	r2, r0
 2456 0048 0B46     		mov	r3, r1
 2457 004a 43EC102B 		vmov	d0, r2, r3
 2458 004e FFF7FEFF 		bl	sqrt
 2459 0052 87ED100B 		vstr.64	d0, [r7, #64]
 302:Core/Src/queternion.c ****     double accel_temp[3];
 303:Core/Src/queternion.c **** 
 304:Core/Src/queternion.c ****     accel_temp[0] = (double)BMI_sensor.datas.acc_y;
 2460              		.loc 1 304 45
 2461 0056 844B     		ldr	r3, .L91
 2462 0058 1B6E     		ldr	r3, [r3, #96]	@ float
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 49


 2463              		.loc 1 304 21
 2464 005a 1846     		mov	r0, r3	@ float
 2465 005c FFF7FEFF 		bl	__aeabi_f2d
 2466 0060 0246     		mov	r2, r0
 2467 0062 0B46     		mov	r3, r1
 2468              		.loc 1 304 19
 2469 0064 C7E90823 		strd	r2, [r7, #32]
 305:Core/Src/queternion.c ****     accel_temp[1] = (double)-BMI_sensor.datas.acc_z;
 2470              		.loc 1 305 46
 2471 0068 7F4B     		ldr	r3, .L91
 2472 006a D3ED197A 		vldr.32	s15, [r3, #100]
 2473              		.loc 1 305 29
 2474 006e F1EE677A 		vneg.f32	s15, s15
 2475 0072 17EE903A 		vmov	r3, s15
 2476              		.loc 1 305 21
 2477 0076 1846     		mov	r0, r3	@ float
 2478 0078 FFF7FEFF 		bl	__aeabi_f2d
 2479 007c 0246     		mov	r2, r0
 2480 007e 0B46     		mov	r3, r1
 2481              		.loc 1 305 19
 2482 0080 C7E90A23 		strd	r2, [r7, #40]
 306:Core/Src/queternion.c ****     accel_temp[2] = (double)BMI_sensor.datas.acc_x;
 2483              		.loc 1 306 45
 2484 0084 784B     		ldr	r3, .L91
 2485 0086 DB6D     		ldr	r3, [r3, #92]	@ float
 2486              		.loc 1 306 21
 2487 0088 1846     		mov	r0, r3	@ float
 2488 008a FFF7FEFF 		bl	__aeabi_f2d
 2489 008e 0246     		mov	r2, r0
 2490 0090 0B46     		mov	r3, r1
 2491              		.loc 1 306 19
 2492 0092 C7E90C23 		strd	r2, [r7, #48]
 307:Core/Src/queternion.c **** 
 308:Core/Src/queternion.c ****     accel_temp[0] /= norm;
 2493              		.loc 1 308 15
 2494 0096 D7E90801 		ldrd	r0, [r7, #32]
 2495              		.loc 1 308 19
 2496 009a D7E91023 		ldrd	r2, [r7, #64]
 2497 009e FFF7FEFF 		bl	__aeabi_ddiv
 2498 00a2 0246     		mov	r2, r0
 2499 00a4 0B46     		mov	r3, r1
 2500 00a6 C7E90823 		strd	r2, [r7, #32]
 309:Core/Src/queternion.c ****     accel_temp[1] /= norm;
 2501              		.loc 1 309 15
 2502 00aa D7E90A01 		ldrd	r0, [r7, #40]
 2503              		.loc 1 309 19
 2504 00ae D7E91023 		ldrd	r2, [r7, #64]
 2505 00b2 FFF7FEFF 		bl	__aeabi_ddiv
 2506 00b6 0246     		mov	r2, r0
 2507 00b8 0B46     		mov	r3, r1
 2508 00ba C7E90A23 		strd	r2, [r7, #40]
 310:Core/Src/queternion.c ****     accel_temp[2] /= norm;
 2509              		.loc 1 310 15
 2510 00be D7E90C01 		ldrd	r0, [r7, #48]
 2511              		.loc 1 310 19
 2512 00c2 D7E91023 		ldrd	r2, [r7, #64]
 2513 00c6 FFF7FEFF 		bl	__aeabi_ddiv
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 50


 2514 00ca 0246     		mov	r2, r0
 2515 00cc 0B46     		mov	r3, r1
 2516 00ce C7E90C23 		strd	r2, [r7, #48]
 311:Core/Src/queternion.c **** 
 312:Core/Src/queternion.c ****     double q_temp[4];
 313:Core/Src/queternion.c **** 
 314:Core/Src/queternion.c ****     q_temp[0] = sqrt(1.0 -accel_temp[1]) * 0.5;
 2517              		.loc 1 314 37
 2518 00d2 D7E90A23 		ldrd	r2, [r7, #40]
 2519              		.loc 1 314 17
 2520 00d6 4FF00000 		mov	r0, #0
 2521 00da 6449     		ldr	r1, .L91+4
 2522 00dc FFF7FEFF 		bl	__aeabi_dsub
 2523 00e0 0246     		mov	r2, r0
 2524 00e2 0B46     		mov	r3, r1
 2525 00e4 43EC172B 		vmov	d7, r2, r3
 2526 00e8 B0EE470A 		vmov.f32	s0, s14
 2527 00ec F0EE670A 		vmov.f32	s1, s15
 2528 00f0 FFF7FEFF 		bl	sqrt
 2529 00f4 51EC100B 		vmov	r0, r1, d0
 2530              		.loc 1 314 42
 2531 00f8 4FF00002 		mov	r2, #0
 2532 00fc 5C4B     		ldr	r3, .L91+8
 2533 00fe FFF7FEFF 		bl	__aeabi_dmul
 2534 0102 0246     		mov	r2, r0
 2535 0104 0B46     		mov	r3, r1
 2536              		.loc 1 314 15
 2537 0106 C7E90023 		strd	r2, [r7]
 315:Core/Src/queternion.c ****     double k = 0.5 / q_temp[0];
 2538              		.loc 1 315 28
 2539 010a D7E90023 		ldrd	r2, [r7]
 2540              		.loc 1 315 12
 2541 010e 4FF00000 		mov	r0, #0
 2542 0112 5749     		ldr	r1, .L91+8
 2543 0114 FFF7FEFF 		bl	__aeabi_ddiv
 2544 0118 0246     		mov	r2, r0
 2545 011a 0B46     		mov	r3, r1
 2546 011c C7E90E23 		strd	r2, [r7, #56]
 316:Core/Src/queternion.c ****     q_temp[1] = accel_temp[0] * k * 0.5;
 2547              		.loc 1 316 27
 2548 0120 D7E90801 		ldrd	r0, [r7, #32]
 2549              		.loc 1 316 31
 2550 0124 D7E90E23 		ldrd	r2, [r7, #56]
 2551 0128 FFF7FEFF 		bl	__aeabi_dmul
 2552 012c 0246     		mov	r2, r0
 2553 012e 0B46     		mov	r3, r1
 2554 0130 1046     		mov	r0, r2
 2555 0132 1946     		mov	r1, r3
 2556              		.loc 1 316 35
 2557 0134 4FF00002 		mov	r2, #0
 2558 0138 4D4B     		ldr	r3, .L91+8
 2559 013a FFF7FEFF 		bl	__aeabi_dmul
 2560 013e 0246     		mov	r2, r0
 2561 0140 0B46     		mov	r3, r1
 2562              		.loc 1 316 15
 2563 0142 C7E90223 		strd	r2, [r7, #8]
 317:Core/Src/queternion.c ****     q_temp[2] = accel_temp[2] * k * 0.5;
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 51


 2564              		.loc 1 317 27
 2565 0146 D7E90C01 		ldrd	r0, [r7, #48]
 2566              		.loc 1 317 31
 2567 014a D7E90E23 		ldrd	r2, [r7, #56]
 2568 014e FFF7FEFF 		bl	__aeabi_dmul
 2569 0152 0246     		mov	r2, r0
 2570 0154 0B46     		mov	r3, r1
 2571 0156 1046     		mov	r0, r2
 2572 0158 1946     		mov	r1, r3
 2573              		.loc 1 317 35
 2574 015a 4FF00002 		mov	r2, #0
 2575 015e 444B     		ldr	r3, .L91+8
 2576 0160 FFF7FEFF 		bl	__aeabi_dmul
 2577 0164 0246     		mov	r2, r0
 2578 0166 0B46     		mov	r3, r1
 2579              		.loc 1 317 15
 2580 0168 C7E90423 		strd	r2, [r7, #16]
 318:Core/Src/queternion.c ****     q_temp[3] = 0.0;
 2581              		.loc 1 318 15
 2582 016c 4FF00002 		mov	r2, #0
 2583 0170 4FF00003 		mov	r3, #0
 2584 0174 C7E90623 		strd	r2, [r7, #24]
 319:Core/Src/queternion.c **** 
 320:Core/Src/queternion.c ****     norm = sqrt(q_temp[0] * q_temp[0] + q_temp[1] * q_temp[1] + q_temp[2] * q_temp[2] + q_temp[3] *
 2585              		.loc 1 320 23
 2586 0178 D7E90001 		ldrd	r0, [r7]
 2587              		.loc 1 320 35
 2588 017c D7E90023 		ldrd	r2, [r7]
 2589              		.loc 1 320 27
 2590 0180 FFF7FEFF 		bl	__aeabi_dmul
 2591 0184 0246     		mov	r2, r0
 2592 0186 0B46     		mov	r3, r1
 2593 0188 1446     		mov	r4, r2
 2594 018a 1D46     		mov	r5, r3
 2595              		.loc 1 320 47
 2596 018c D7E90201 		ldrd	r0, [r7, #8]
 2597              		.loc 1 320 59
 2598 0190 D7E90223 		ldrd	r2, [r7, #8]
 2599              		.loc 1 320 51
 2600 0194 FFF7FEFF 		bl	__aeabi_dmul
 2601 0198 0246     		mov	r2, r0
 2602 019a 0B46     		mov	r3, r1
 2603              		.loc 1 320 39
 2604 019c 2046     		mov	r0, r4
 2605 019e 2946     		mov	r1, r5
 2606 01a0 FFF7FEFF 		bl	__aeabi_dadd
 2607 01a4 0246     		mov	r2, r0
 2608 01a6 0B46     		mov	r3, r1
 2609 01a8 1446     		mov	r4, r2
 2610 01aa 1D46     		mov	r5, r3
 2611              		.loc 1 320 71
 2612 01ac D7E90401 		ldrd	r0, [r7, #16]
 2613              		.loc 1 320 83
 2614 01b0 D7E90423 		ldrd	r2, [r7, #16]
 2615              		.loc 1 320 75
 2616 01b4 FFF7FEFF 		bl	__aeabi_dmul
 2617 01b8 0246     		mov	r2, r0
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 52


 2618 01ba 0B46     		mov	r3, r1
 2619              		.loc 1 320 63
 2620 01bc 2046     		mov	r0, r4
 2621 01be 2946     		mov	r1, r5
 2622 01c0 FFF7FEFF 		bl	__aeabi_dadd
 2623 01c4 0246     		mov	r2, r0
 2624 01c6 0B46     		mov	r3, r1
 2625 01c8 1446     		mov	r4, r2
 2626 01ca 1D46     		mov	r5, r3
 2627              		.loc 1 320 95
 2628 01cc D7E90601 		ldrd	r0, [r7, #24]
 2629              		.loc 1 320 107
 2630 01d0 D7E90623 		ldrd	r2, [r7, #24]
 2631              		.loc 1 320 99
 2632 01d4 FFF7FEFF 		bl	__aeabi_dmul
 2633 01d8 0246     		mov	r2, r0
 2634 01da 0B46     		mov	r3, r1
 2635              		.loc 1 320 12
 2636 01dc 2046     		mov	r0, r4
 2637 01de 2946     		mov	r1, r5
 2638 01e0 FFF7FEFF 		bl	__aeabi_dadd
 2639 01e4 0246     		mov	r2, r0
 2640 01e6 0B46     		mov	r3, r1
 2641 01e8 43EC172B 		vmov	d7, r2, r3
 2642 01ec B0EE470A 		vmov.f32	s0, s14
 2643 01f0 F0EE670A 		vmov.f32	s1, s15
 2644 01f4 FFF7FEFF 		bl	sqrt
 2645 01f8 87ED100B 		vstr.64	d0, [r7, #64]
 321:Core/Src/queternion.c **** 
 322:Core/Src/queternion.c ****     q[0] = q_temp[0] / norm;
 2646              		.loc 1 322 18
 2647 01fc D7E90001 		ldrd	r0, [r7]
 2648              		.loc 1 322 22
 2649 0200 D7E91023 		ldrd	r2, [r7, #64]
 2650 0204 FFF7FEFF 		bl	__aeabi_ddiv
 2651 0208 0246     		mov	r2, r0
 2652 020a 0B46     		mov	r3, r1
 2653 020c 1046     		mov	r0, r2
 2654 020e 1946     		mov	r1, r3
 2655 0210 FFF7FEFF 		bl	__aeabi_d2f
 2656 0214 0346     		mov	r3, r0	@ float
 2657              		.loc 1 322 10
 2658 0216 174A     		ldr	r2, .L91+12
 2659 0218 1360     		str	r3, [r2]	@ float
 323:Core/Src/queternion.c ****     q[1] = q_temp[1] / norm;
 2660              		.loc 1 323 18
 2661 021a D7E90201 		ldrd	r0, [r7, #8]
 2662              		.loc 1 323 22
 2663 021e D7E91023 		ldrd	r2, [r7, #64]
 2664 0222 FFF7FEFF 		bl	__aeabi_ddiv
 2665 0226 0246     		mov	r2, r0
 2666 0228 0B46     		mov	r3, r1
 2667 022a 1046     		mov	r0, r2
 2668 022c 1946     		mov	r1, r3
 2669 022e FFF7FEFF 		bl	__aeabi_d2f
 2670 0232 0346     		mov	r3, r0	@ float
 2671              		.loc 1 323 10
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 53


 2672 0234 0F4A     		ldr	r2, .L91+12
 2673 0236 5360     		str	r3, [r2, #4]	@ float
 324:Core/Src/queternion.c ****     q[2] = q_temp[2] / norm;
 2674              		.loc 1 324 18
 2675 0238 D7E90401 		ldrd	r0, [r7, #16]
 2676              		.loc 1 324 22
 2677 023c D7E91023 		ldrd	r2, [r7, #64]
 2678 0240 FFF7FEFF 		bl	__aeabi_ddiv
 2679 0244 0246     		mov	r2, r0
 2680 0246 0B46     		mov	r3, r1
 2681 0248 1046     		mov	r0, r2
 2682 024a 1946     		mov	r1, r3
 2683 024c FFF7FEFF 		bl	__aeabi_d2f
 2684 0250 0346     		mov	r3, r0	@ float
 2685              		.loc 1 324 10
 2686 0252 084A     		ldr	r2, .L91+12
 2687 0254 9360     		str	r3, [r2, #8]	@ float
 325:Core/Src/queternion.c ****     q[3] = 0.0f;
 2688              		.loc 1 325 10
 2689 0256 074B     		ldr	r3, .L91+12
 2690 0258 4FF00002 		mov	r2, #0
 2691 025c DA60     		str	r2, [r3, #12]	@ float
 326:Core/Src/queternion.c **** }
 2692              		.loc 1 326 1
 2693 025e 00BF     		nop
 2694 0260 4837     		adds	r7, r7, #72
 2695              		.cfi_def_cfa_offset 16
 2696 0262 BD46     		mov	sp, r7
 2697              		.cfi_def_cfa_register 13
 2698              		@ sp needed
 2699 0264 B0BD     		pop	{r4, r5, r7, pc}
 2700              	.L92:
 2701 0266 00BF     		.align	2
 2702              	.L91:
 2703 0268 00000000 		.word	BMI_sensor
 2704 026c 0000F03F 		.word	1072693248
 2705 0270 0000E03F 		.word	1071644672
 2706 0274 00000000 		.word	q
 2707              		.cfi_endproc
 2708              	.LFE254:
 2710              		.section	.text.invSqrt,"ax",%progbits
 2711              		.align	1
 2712              		.global	invSqrt
 2713              		.syntax unified
 2714              		.thumb
 2715              		.thumb_func
 2717              	invSqrt:
 2718              	.LFB255:
 327:Core/Src/queternion.c **** 
 328:Core/Src/queternion.c **** float invSqrt(float x) {
 2719              		.loc 1 328 24
 2720              		.cfi_startproc
 2721              		@ args = 0, pretend = 0, frame = 24
 2722              		@ frame_needed = 1, uses_anonymous_args = 0
 2723              		@ link register save eliminated.
 2724 0000 80B4     		push	{r7}
 2725              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 54


 2726              		.cfi_offset 7, -4
 2727 0002 87B0     		sub	sp, sp, #28
 2728              		.cfi_def_cfa_offset 32
 2729 0004 00AF     		add	r7, sp, #0
 2730              		.cfi_def_cfa_register 7
 2731 0006 87ED010A 		vstr.32	s0, [r7, #4]
 329:Core/Src/queternion.c **** 	float halfx = 0.5f * x;
 2732              		.loc 1 329 8
 2733 000a D7ED017A 		vldr.32	s15, [r7, #4]
 2734 000e B6EE007A 		vmov.f32	s14, #5.0e-1
 2735 0012 67EE877A 		vmul.f32	s15, s15, s14
 2736 0016 C7ED057A 		vstr.32	s15, [r7, #20]
 330:Core/Src/queternion.c **** 	float y = x;
 2737              		.loc 1 330 8
 2738 001a 7B68     		ldr	r3, [r7, #4]	@ float
 2739 001c 3B61     		str	r3, [r7, #16]	@ float
 331:Core/Src/queternion.c **** 	long i = *(long*)&y;
 2740              		.loc 1 331 19
 2741 001e 07F11003 		add	r3, r7, #16
 2742              		.loc 1 331 11
 2743 0022 1B68     		ldr	r3, [r3]
 2744              		.loc 1 331 7
 2745 0024 FB60     		str	r3, [r7, #12]
 332:Core/Src/queternion.c **** 	i = 0x5f3759df - (i>>1);
 2746              		.loc 1 332 21
 2747 0026 FB68     		ldr	r3, [r7, #12]
 2748 0028 5A10     		asrs	r2, r3, #1
 2749              		.loc 1 332 17
 2750 002a 124B     		ldr	r3, .L95
 2751 002c 9B1A     		subs	r3, r3, r2
 2752              		.loc 1 332 4
 2753 002e FB60     		str	r3, [r7, #12]
 333:Core/Src/queternion.c **** 	y = *(float*)&i;
 2754              		.loc 1 333 15
 2755 0030 07F10C03 		add	r3, r7, #12
 2756              		.loc 1 333 6
 2757 0034 1B68     		ldr	r3, [r3]	@ float
 2758              		.loc 1 333 4
 2759 0036 3B61     		str	r3, [r7, #16]	@ float
 334:Core/Src/queternion.c **** 	y = y * (1.5f - (halfx * y * y));
 2760              		.loc 1 334 25
 2761 0038 97ED047A 		vldr.32	s14, [r7, #16]
 2762 003c D7ED057A 		vldr.32	s15, [r7, #20]
 2763 0040 27EE277A 		vmul.f32	s14, s14, s15
 2764              		.loc 1 334 29
 2765 0044 D7ED047A 		vldr.32	s15, [r7, #16]
 2766 0048 67EE277A 		vmul.f32	s15, s14, s15
 2767              		.loc 1 334 16
 2768 004c B7EE087A 		vmov.f32	s14, #1.5e+0
 2769 0050 37EE677A 		vsub.f32	s14, s14, s15
 2770              		.loc 1 334 8
 2771 0054 D7ED047A 		vldr.32	s15, [r7, #16]
 2772 0058 67EE277A 		vmul.f32	s15, s14, s15
 2773              		.loc 1 334 4
 2774 005c C7ED047A 		vstr.32	s15, [r7, #16]
 335:Core/Src/queternion.c **** 	return y;
 2775              		.loc 1 335 9
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 55


 2776 0060 3B69     		ldr	r3, [r7, #16]	@ float
 2777 0062 07EE903A 		vmov	s15, r3
 336:Core/Src/queternion.c **** }
 2778              		.loc 1 336 1
 2779 0066 B0EE670A 		vmov.f32	s0, s15
 2780 006a 1C37     		adds	r7, r7, #28
 2781              		.cfi_def_cfa_offset 4
 2782 006c BD46     		mov	sp, r7
 2783              		.cfi_def_cfa_register 13
 2784              		@ sp needed
 2785 006e 5DF8047B 		ldr	r7, [sp], #4
 2786              		.cfi_restore 7
 2787              		.cfi_def_cfa_offset 0
 2788 0072 7047     		bx	lr
 2789              	.L96:
 2790              		.align	2
 2791              	.L95:
 2792 0074 DF59375F 		.word	1597463007
 2793              		.cfi_endproc
 2794              	.LFE255:
 2796              		.section	.text.getQuaternion,"ax",%progbits
 2797              		.align	1
 2798              		.global	getQuaternion
 2799              		.syntax unified
 2800              		.thumb
 2801              		.thumb_func
 2803              	getQuaternion:
 2804              	.LFB256:
 337:Core/Src/queternion.c **** 
 338:Core/Src/queternion.c **** float* getQuaternion() {
 2805              		.loc 1 338 24
 2806              		.cfi_startproc
 2807              		@ args = 0, pretend = 0, frame = 0
 2808              		@ frame_needed = 1, uses_anonymous_args = 0
 2809              		@ link register save eliminated.
 2810 0000 80B4     		push	{r7}
 2811              		.cfi_def_cfa_offset 4
 2812              		.cfi_offset 7, -4
 2813 0002 00AF     		add	r7, sp, #0
 2814              		.cfi_def_cfa_register 7
 339:Core/Src/queternion.c ****     return q;
 2815              		.loc 1 339 12
 2816 0004 024B     		ldr	r3, .L99
 340:Core/Src/queternion.c **** }
 2817              		.loc 1 340 1
 2818 0006 1846     		mov	r0, r3
 2819 0008 BD46     		mov	sp, r7
 2820              		.cfi_def_cfa_register 13
 2821              		@ sp needed
 2822 000a 5DF8047B 		ldr	r7, [sp], #4
 2823              		.cfi_restore 7
 2824              		.cfi_def_cfa_offset 0
 2825 000e 7047     		bx	lr
 2826              	.L100:
 2827              		.align	2
 2828              	.L99:
 2829 0010 00000000 		.word	q
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 56


 2830              		.cfi_endproc
 2831              	.LFE256:
 2833              		.section	.bss.ax_f.2,"aw",%nobits
 2834              		.align	2
 2837              	ax_f.2:
 2838 0000 00000000 		.space	4
 2839              		.section	.bss.ay_f.1,"aw",%nobits
 2840              		.align	2
 2843              	ay_f.1:
 2844 0000 00000000 		.space	4
 2845              		.section	.bss.az_f.0,"aw",%nobits
 2846              		.align	2
 2849              	az_f.0:
 2850 0000 00000000 		.space	4
 2851              		.text
 2852              	.Letext0:
 2853              		.file 2 "C:\\ST\\STM32CubeIDE_1.14.1\\STM32CubeIDE\\plugins\\com.st.stm32cube.ide.mcu.externaltool
 2854              		.file 3 "C:\\ST\\STM32CubeIDE_1.14.1\\STM32CubeIDE\\plugins\\com.st.stm32cube.ide.mcu.externaltool
 2855              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f446xx.h"
 2856              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 2857              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 2858              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2c.h"
 2859              		.file 8 "Core/Inc/bmi088.h"
 2860              		.file 9 "C:\\ST\\STM32CubeIDE_1.14.1\\STM32CubeIDE\\plugins\\com.st.stm32cube.ide.mcu.externaltool
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 57


DEFINED SYMBOLS
                            *ABS*:00000000 queternion.c
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:21     .data.q:00000000 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:24     .data.q:00000000 q
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:34     .data.twoKp:00000000 twoKp
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:31     .data.twoKp:00000000 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:41     .data.twoKi:00000000 twoKi
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:38     .data.twoKi:00000000 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:48     .bss.integralFBx:00000000 integralFBx
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:45     .bss.integralFBx:00000000 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:55     .bss.integralFBy:00000000 integralFBy
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:52     .bss.integralFBy:00000000 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:62     .bss.integralFBz:00000000 integralFBz
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:59     .bss.integralFBz:00000000 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:68     .bss.Gain:00000000 Gain
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:69     .bss.Gain:00000000 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:74     .bss.gyroOnlyMode:00000000 gyroOnlyMode
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:75     .bss.gyroOnlyMode:00000000 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:77     .text.UpdateMahonyGains:00000000 $t
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:83     .text.UpdateMahonyGains:00000000 UpdateMahonyGains
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2717   .text.invSqrt:00000000 invSqrt
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:462    .text.UpdateMahonyGains:00000368 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:478    .text.Orientation_Update:00000000 $t
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:484    .text.Orientation_Update:00000000 Orientation_Update
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:683    .text.updateQuaternion:00000000 updateQuaternion
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:1181   .text.MahonyAHRSupdateIMU:00000000 MahonyAHRSupdateIMU
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:666    .text.Orientation_Update:000001a4 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2837   .bss.ax_f.2:00000000 ax_f.2
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2843   .bss.ay_f.1:00000000 ay_f.1
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2849   .bss.az_f.0:00000000 az_f.0
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:677    .text.updateQuaternion:00000000 $t
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:945    .text.updateQuaternion:00000248 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:951    .text.quaternionSet_zero:00000000 $t
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:957    .text.quaternionSet_zero:00000000 quaternionSet_zero
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:1167   .text.quaternionSet_zero:000001dc $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:1175   .text.MahonyAHRSupdateIMU:00000000 $t
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:1416   .text.MahonyAHRSupdateIMU:00000244 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:1423   .text.MahonyAHRSupdateIMU:00000258 $t
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:1683   .text.MahonyAHRSupdateIMU:000004c4 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:1692   .text.quaternionToThetaZ:00000000 $t
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:1698   .text.quaternionToThetaZ:00000000 quaternionToThetaZ
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:1833   .text.quaternionToThetaZ:00000118 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:1839   .text.quaternionToYawDegree:00000000 $t
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:1845   .text.quaternionToYawDegree:00000000 quaternionToYawDegree
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:1921   .text.quaternionToYawDegree:00000088 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:1927   .text.quaternionToPitchDegree:00000000 $t
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:1933   .text.quaternionToPitchDegree:00000000 quaternionToPitchDegree
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2009   .text.quaternionToPitchDegree:00000088 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2015   .text.quaternionToRollDegree:00000000 $t
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2021   .text.quaternionToRollDegree:00000000 quaternionToRollDegree
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2097   .text.quaternionToRollDegree:00000088 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2103   .text.quaternionToYaw:00000000 $t
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2109   .text.quaternionToYaw:00000000 quaternionToYaw
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2206   .text.quaternionToYaw:000000b0 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2213   .text.quaternionToPitch:00000000 $t
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2219   .text.quaternionToPitch:00000000 quaternionToPitch
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2279   .text.quaternionToPitch:00000064 $d
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 58


C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2286   .text.quaternionToRoll:00000000 $t
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2292   .text.quaternionToRoll:00000000 quaternionToRoll
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2389   .text.quaternionToRoll:000000b0 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2402   .text.getInitialQuaternion:00000000 $t
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2408   .text.getInitialQuaternion:00000000 getInitialQuaternion
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2703   .text.getInitialQuaternion:00000268 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2711   .text.invSqrt:00000000 $t
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2792   .text.invSqrt:00000074 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2797   .text.getQuaternion:00000000 $t
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2803   .text.getQuaternion:00000000 getQuaternion
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2829   .text.getQuaternion:00000010 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2834   .bss.ax_f.2:00000000 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2840   .bss.ay_f.1:00000000 $d
C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s:2846   .bss.az_f.0:00000000 $d
                           .group:00000000 wm4.0.fbeba72283fbbed79c5ed62adcf8946b
                           .group:00000000 wm4._newlib_version.h.4.6d111ab2e95434b664b53815e5c8ccba
                           .group:00000000 wm4.features.h.33.3e67abe6fb64142d4f6fa9496796153c
                           .group:00000000 wm4._default_types.h.15.247e5cd201eca3442cbf5404108c4935
                           .group:00000000 wm4._intsup.h.10.48bafbb683905c4daa4565a85aeeb264
                           .group:00000000 wm4._stdint.h.10.c24fa3af3bc1706662bb5593a907e841
                           .group:00000000 wm4.stdint.h.23.d53047a68f4a85177f80b422d52785ed
                           .group:00000000 wm4.stm32f4xx_hal_conf.h.25.834fd89df99f7f3fe75169badeed02aa
                           .group:00000000 wm4.stm32f4xx.h.38.63e3ea23bd63a94457417730025259b6
                           .group:00000000 wm4.stm32f446xx.h.34.dd43cebd7192f96bce7a5ff975201274
                           .group:00000000 wm4.cmsis_version.h.32.0ac195c83bb4537824e6ad1c47474b79
                           .group:00000000 wm4.core_cm4.h.66.e4ff136c4a17abc46741866f64f8e729
                           .group:00000000 wm4.cmsis_gcc.h.26.498d0ad17a45fc9ef20fdc01caf02259
                           .group:00000000 wm4.core_cm4.h.174.62be9b4588d49bed18171771001331df
                           .group:00000000 wm4.mpu_armv7.h.32.83326921a797fa9d6f70449916b4b839
                           .group:00000000 wm4.stm32f446xx.h.917.13927c85cbbf4787955bc4173c54fa12
                           .group:00000000 wm4.stm32f4xx.h.195.a4b8bf80f37cc96981498656ffe5f588
                           .group:00000000 wm4.stm32_hal_legacy.h.22.8b7d303dc46a0b7ac6d3edf19ce2608d
                           .group:00000000 wm4.stddef.h.39.3e0425629195acf083c9561151306b4d
                           .group:00000000 wm4.stm32f4xx_hal_def.h.58.3cb484e92e5ccf2e55312a4714e27917
                           .group:00000000 wm4.stm32f4xx_hal_rcc_ex.h.20.9b6e314009d4800dd71c0ec1c264a1ea
                           .group:00000000 wm4.stm32f4xx_hal_rcc.h.106.0887cf5d985ae88e345b0aed0ceb4729
                           .group:00000000 wm4.stm32f4xx_hal_gpio.h.21.22da6a14b6049d6ac156577be74df1d7
                           .group:00000000 wm4.stm32f4xx_hal_gpio_ex.h.21.33ea7ea24fd170b1d3dce3d23330c9d3
                           .group:00000000 wm4.stm32f4xx_hal_gpio.h.254.d7e07832f748fe8bcb575db0b8373592
                           .group:00000000 wm4.stm32f4xx_hal_exti.h.21.4fc7f37c3cc97fb821b368ede79414b6
                           .group:00000000 wm4.stm32f4xx_hal_dma.h.21.8e4b1421c914345c23be719e5e528779
                           .group:00000000 wm4.stm32f4xx_hal_dma.h.720.ac2d7eef74792e4026acc4d2923c5da4
                           .group:00000000 wm4.stm32f4xx_hal_cortex.h.20.03673e4f79386680bf73ba399c19306b
                           .group:00000000 wm4.stm32f4xx_ll_adc.h.21.8ab9bf4d55f678506dbbe8102cb12bbc
                           .group:00000000 wm4.stm32f4xx_hal_adc.h.159.62530d9b3382796f19493a9679ef426c
                           .group:00000000 wm4.stm32f4xx_hal_adc_ex.h.21.94e87945640619cdd4cff40627e1380a
                           .group:00000000 wm4.stm32f4xx_hal_adc.h.639.c30c49256117cbda0ada83149c65b3d8
                           .group:00000000 wm4.stm32f4xx_hal_flash.h.20.2f1e0d1b7010b3a81a7980aaf712e7e5
                           .group:00000000 wm4.stm32f4xx_hal_flash_ex.h.20.77cb3e5c0f1e426426a4cbc884a1eed8
                           .group:00000000 wm4.stm32f4xx_hal_flash.h.361.23bc19b9eac79b0956d913651841ede8
                           .group:00000000 wm4.stm32f4xx_hal_i2c.h.21.147e96a27b1f7b1f2f8ee22132703ee3
                           .group:00000000 wm4.stm32f4xx_hal_i2c_ex.h.21.951ef5bfa13cf131d2015c338e82e461
                           .group:00000000 wm4.stm32f4xx_hal_i2c.h.647.ade9c3447780b1cc0ece02f0ce83aedc
                           .group:00000000 wm4.stm32f4xx_hal_pwr.h.20.1905a0783a9c83adefd7df0c4b501e40
                           .group:00000000 wm4.stm32f4xx_hal_pwr_ex.h.20.9786dbd699c850465fa7b77273740267
                           .group:00000000 wm4.stm32f4xx_hal_pwr.h.338.debc0a4a62ba54688e63ab53dd99c4ea
                           .group:00000000 wm4.stm32f4xx_hal_spi.h.21.8b27a8d792c565f72ddd4cfad797986f
ARM GAS  C:\Users\Halil\AppData\Local\Temp\cc5WthRb.s 			page 59


                           .group:00000000 wm4.stm32f4xx_hal_tim.h.21.c31cbc03c25f07a932427770396c59d2
                           .group:00000000 wm4.stm32f4xx_hal_tim_ex.h.21.3ff8ebb44e16ac9d5b95e2b3533221b9
                           .group:00000000 wm4.stm32f4xx_hal_uart.h.21.ba8e24dd05c77faac3f3d48472e636ba
                           .group:00000000 wm4.stm32f4xx_hal.h.71.02372bc31d47d29d3f67fbfe1429649e
                           .group:00000000 wm4.main.h.61.69da45f81907557a0774729345d5d811
                           .group:00000000 wm4.newlib.h.7.f9f25f80f86429f653675286e7973cb9
                           .group:00000000 wm4.ieeefp.h.77.9dc6728f2d488a554e7c0cabef1b6c33
                           .group:00000000 wm4.config.h.224.10ee1ad185d877c6e334e6581faab44d
                           .group:00000000 wm4._ansi.h.31.de524f58584151836e90d8620a16f8e8
                           .group:00000000 wm4.stdio.h.31.7c0e28c411445f3f9c5b11accf882760
                           .group:00000000 wm4.stddef.h.158.bfed30416c9480cd13bc4a25427d538f
                           .group:00000000 wm4.cdefs.h.49.f93868eb904b9ca05b5c0257d31128ca
                           .group:00000000 wm4.stdarg.h.34.3a23a216c0c293b3d2ea2e89281481e6
                           .group:00000000 wm4._types.h.20.dd0d04dca3800a0d2a6129b87f3adbb2
                           .group:00000000 wm4.stddef.h.158.5f30652bb2ea05b142c1bbee9108c999
                           .group:00000000 wm4._types.h.127.3bdfe3ff8ea2d0985b03d9cbe93480e3
                           .group:00000000 wm4.reent.h.17.e292bf8b0bec6c96e131a54347145a30
                           .group:00000000 wm4.lock.h.2.1461d1fff82dffe8bfddc23307f6484f
                           .group:00000000 wm4.reent.h.77.89f7dde66c62b1f1dee32bdb6ab2d544
                           .group:00000000 wm4.stdio.h.67.0cf8a9c281ab0b348aef5c02e7e48825
                           .group:00000000 wm4.stdio.h.2.4aa87247282eca6c8f36f9de33d8df1a
                           .group:00000000 wm4.stdio.h.87.a1e20d2651f9bfb66e51bfbe849db00a
                           .group:00000000 wm4.string.h.8.c4b8571ce60dff2817f43fec8b86aecd
                           .group:00000000 wm4.string.h.177.59a005921fa78485abc80a0267de5752
                           .group:00000000 wm4.bmi088.h.24.39da1258636463617ae199ce9c348de5
                           .group:00000000 wm4.math.h.13.35ad80917fddb38312d53499dad31194
                           .group:00000000 wm4.stdbool.h.29.4a1c88fe569adb8d03217dd16982ca34

UNDEFINED SYMBOLS
sqrtf
acosf
fminf
fmaxf
BMI_sensor
atan2f
asinf
__aeabi_f2d
__aeabi_ddiv
__aeabi_dsub
__aeabi_dmul
__aeabi_dadd
__aeabi_d2f
sqrt
